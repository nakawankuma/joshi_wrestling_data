<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥³å­ãƒ—ãƒ­ãƒ¬ã‚¹é¸æ‰‹ä¸€è¦§è¡¨</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .content {
            padding: 30px;
        }
        
        .debug-controls {
            margin: 20px 0;
            text-align: center;
        }
        
        .debug-toggle {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .debug-toggle:hover {
            background: linear-gradient(135deg, #495057, #343a40);
            transform: translateY(-1px);
        }
        
        .debug-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 30px 0;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .controls {
            display: none;
            gap: 15px;
            margin: 20px 0;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .filter-info {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .table-container {
            margin: 30px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid #e0e0e0;
        }
        
        .table-wrapper {
            overflow-x: auto;
            max-height: 800px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            min-width: 1400px;
        }
        
        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 8px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        th:hover {
            background: linear-gradient(135deg, #5a67d8, #667eea);
        }
        
        th:first-child {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            position: sticky;
            left: 0;
            z-index: 11;
            min-width: 80px;
        }
        
        th:first-child:hover {
            background: linear-gradient(135deg, #e55656, #d63031);
        }
        
        .sortable::after {
            content: ' â†•';
            font-size: 12px;
            opacity: 0.7;
        }
        
        
        .sortable.desc::after {
            content: ' â†“';
            opacity: 1;
        }
        
        td {
            padding: 10px 8px;
            border: 1px solid #ddd;
            vertical-align: top;
            line-height: 1.4;
            max-width: 150px;
            word-wrap: break-word;
        }
        
        td:first-child {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            font-weight: bold;
            text-align: center;
            position: sticky;
            left: 0;
            z-index: 9;
            min-width: 80px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        td:first-child:hover {
            background: linear-gradient(135deg, #e55656, #d63031);
        }
        
        tr:nth-child(even) td:not(:first-child) {
            background: #f8f9fa;
        }
        
        tr:hover td:not(:first-child) {
            background: #e3f2fd;
        }
        
        
        
        
        .promotion-header {
            font-size: 11px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            min-width: 120px;
            max-width: 120px;
        }
        
        .year-detail-view {
            display: none;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .year-title {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .promotion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .promotion-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-top: 3px solid #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .promotion-name-card {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .wrestler-names-card {
            color: #2d3436;
            line-height: 1.6;
        }
    </style>
</head>
<body>

    <div class="container" id="content">
        <div class="header">
            <h1>ğŸ¤¼â€â™€ï¸ å¥³å­ãƒ—ãƒ­ãƒ¬ã‚¹é¸æ‰‹ä¸€è¦§è¡¨ ğŸ¤¼â€â™€ï¸</h1>
            <p>ç¾å½¹é¸æ‰‹ã®ãƒ‡ãƒ“ãƒ¥ãƒ¼å¹´ãƒ»å›£ä½“åˆ¥å®Œå…¨ãƒ‡ãƒ¼ã‚¿</p>
        </div>
        
        <div class="content">
            <!-- ãƒ‡ãƒãƒƒã‚°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
            <div class="debug-controls">
                <button class="debug-toggle" onclick="toggleDebug()">ğŸ”§ ãƒ‡ãƒãƒƒã‚°æƒ…å ± è¡¨ç¤º/éè¡¨ç¤º</button>
            </div>
            
            <!-- ãƒ‡ãƒãƒƒã‚°æƒ…å ±è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="debug-info" id="debugInfo">
                <strong>ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°:</strong><br>
                èª­ã¿è¾¼ã¿é–‹å§‹...<br>
            </div>
            
            <div class="stats-summary">
                <div class="stat-card">
                    <div class="stat-number" id="totalWrestlers">è¨ˆç®—ä¸­...</div>
                    <div class="stat-label">ç·ç¾å½¹é¸æ‰‹æ•°</div>
                </div>
            </div>
            
            <div class="controls" id="controls">
                <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒœã‚¿ãƒ³ãŒã“ã“ã«å‹•çš„ã«è¿½åŠ ã•ã‚Œã¾ã™ -->
            </div>
            
            <div class="year-detail-view" id="yearDetailView">
                <!-- å¹´åˆ¥è©³ç´°ãƒ“ãƒ¥ãƒ¼ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
            </div>
            
            <div class="table-container" id="tableContainer">
                <div class="table-wrapper">
                    <table id="wrestlersTable">
                        <thead>
                            <tr>
                                <th class="sortable desc" onclick="toggleSort()">ãƒ‡ãƒ“ãƒ¥ãƒ¼å¹´</th>
                                <th class="promotion-header" onclick="filterByPromotion('Stardom', 1)">Stardom</th>
                                <th class="promotion-header" onclick="filterByPromotion('AWG', 2)">AWG</th>
                                <th class="promotion-header" onclick="filterByPromotion('TJPW', 3)">TJPW</th>
                                <th class="promotion-header" onclick="filterByPromotion('ãƒãƒªã‚´', 4)">ãƒãƒªã‚´</th>
                                <th class="promotion-header" onclick="filterByPromotion('IR/ãƒ›ãƒƒãƒˆã‚·ãƒ¥ã‚·ãƒ¥', 5)">IR/ãƒ›ãƒƒãƒˆã‚·ãƒ¥ã‚·ãƒ¥</th>
                                <th class="promotion-header" onclick="filterByPromotion('JTO', 6)">JTO</th>
                                <th class="promotion-header" onclick="filterByPromotion('ãƒãƒ§ã‚³ãƒ—ãƒ­', 7)">ãƒãƒ§ã‚³ãƒ—ãƒ­</th>
                                <th class="promotion-header" onclick="filterByPromotion('Diana', 8)">Diana</th>
                                <th class="promotion-header" onclick="filterByPromotion('Pure-J', 9)">Pure-J</th>
                                <th class="promotion-header" onclick="filterByPromotion('ãƒãƒ¼ãƒ™ãƒ©ã‚¹', 10)">ãƒãƒ¼ãƒ™ãƒ©ã‚¹</th>
                                <th class="promotion-header" onclick="filterByPromotion('SENDAI', 11)">SENDAI</th>
                                <th class="promotion-header" onclick="filterByPromotion('Wave', 12)">Wave</th>
                                <th class="promotion-header" onclick="filterByPromotion('ã‚·ãƒ¼ãƒ‰', 13)">ã‚·ãƒ¼ãƒ‰</th>
                                <th class="promotion-header" onclick="filterByPromotion('LLPW-X', 14)">LLPW-X</th>
                                <th class="promotion-header" onclick="filterByPromotion('2.5', 15)">2.5</th>
                                <th class="promotion-header" onclick="filterByPromotion('ã‚¬ãƒ³ãƒ—ãƒ­', 16)">ã‚¬ãƒ³ãƒ—ãƒ­</th>
                                <th class="promotion-header" onclick="filterByPromotion('æŸ³ãƒ¶ç€¬', 17)">æŸ³ãƒ¶ç€¬</th>
                                <th class="promotion-header" onclick="filterByPromotion('æµ·å¤–', 18)">æµ·å¤–</th>
                                <th class="promotion-header" onclick="filterByPromotion('ãã®ä»–', 19)">ãã®ä»–</th>
                                <th class="promotion-header" onclick="filterByPromotion('ãƒ•ãƒªãƒ¼', 20)">ãƒ•ãƒªãƒ¼</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- ãƒ‡ãƒ¼ã‚¿ãŒJavaScriptã§è¿½åŠ ã•ã‚Œã¾ã™ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ­ã‚°é–¢æ•°
        function debugLog(message) {
            const debugInfo = document.getElementById('debugInfo');
            const currentTime = new Date().toLocaleTimeString();
            debugInfo.innerHTML += `${currentTime}: ${message}<br>`;
            debugInfo.scrollTop = debugInfo.scrollHeight;
            console.log(message);
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let sortOrder = 'desc';
        let currentFilter = null;
        let isFiltered = false;
        let debugVisible = false;

        debugLog('ã‚¹ã‚¯ãƒªãƒ—ãƒˆé–‹å§‹ - ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°åˆæœŸåŒ–å®Œäº†');

        // ãƒ‡ãƒãƒƒã‚°è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆé–¢æ•°
        function toggleDebug() {
            debugVisible = !debugVisible;
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.style.display = debugVisible ? 'block' : 'none';
            debugLog(`ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º: ${debugVisible ? 'è¡¨ç¤º' : 'éè¡¨ç¤º'}`);
        }

        // ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥å®šç¾©ï¼ˆå®Œå…¨ç‰ˆï¼‰
        const wrestlerData = [
            [
                        1977,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ã‚¸ãƒ£ã‚¬ãƒ¼æ¨ªç”°",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1978,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1979,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1980,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "é•·ä¸åƒç¨®",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ãƒ€ãƒ³ãƒ—æ¾æœ¬"
            ],
            [
                        1981,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1982,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1983,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1984,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1985,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å €ç”°ç¥ç¾å­(T-HEARTS)",
                        ""
            ],
            [
                        1986,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ç¥å–å¿",
                        "",
                        "",
                        "",
                        "",
                        "å°¾å´é­”å¼“(OZ)",
                        "ã‚¢ã‚¸ãƒ£ã‚³ãƒ³ã‚°"
            ],
            [
                        1987,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ä¸‹ç”°ç¾é¦¬"
            ],
            [
                        1988,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "äº•ä¸Šäº¬å­",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "äº•ä¸Šè²´å­",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1989,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ä¼Šè—¤è–«(ä¼Šè—¤é“å ´)",
                        "æ¸¡è¾ºæ™ºå­"
            ],
            [
                        1990,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1991,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1992,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1993,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1994,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        1995,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ã•ãã‚‰ãˆã¿",
                        "",
                        "",
                        "",
                        "",
                        "å®®å´æœ‰å¦ƒ(å¼•é€€äºˆå®š)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "åŠ è—¤åœ’å­(OZ)(å¼•é€€äºˆå®š)\nãƒŸã‚¹ãƒ»ãƒ¢ãƒ³ã‚´ãƒ«(ä¸–ç•Œ)",
                        "æ°¸å³¶åƒä½³ä¸–\nå€‰å£ç¿¼"
            ],
            [
                        1996,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ã‚·ãƒ³ãƒ»åºƒç”°ã•ãã‚‰"
            ],
            [
                        1997,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "KAZUKI",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "è—ªä¸‹ã‚ãã¿"
            ],
            [
                        1998,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "AKINO(OZ)",
                        "æ•‘ä¸–å¿è€…ä¹±ä¸¸"
            ],
            [
                        1999,
                        "ãƒ•ã‚­ã‚²ãƒ³ã§ã™",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ç±³å±±é¦™ç¹”(ã‚´ã‚­ã‚²ãƒ³)",
                        ""
            ],
            [
                        2000,
                        "",
                        "MARU",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Leon",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å±±ç¸£å„ª\nå”¯æˆ‘"
            ],
            [
                        2001,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ä½è—¤ç¶¾å­",
                        "",
                        "",
                        "",
                        "æ¡œèŠ±ç”±ç¾",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        2002,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ãƒã‚¤ãƒ“ã‚¹ã‚«ã‚¹ã¿ãƒ(ç‰çƒ)",
                        ""
            ],
            [
                        2003,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        2004,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ãƒãƒ³ãƒ“(ä¸–ç•Œ)",
                        "ãƒã‚§ãƒªãƒ¼\næ°´æ³¢ç¶¾"
            ],
            [
                        2005,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "æ˜¥æ—¥èŒèŠ±",
                        "",
                        "",
                        "ãƒ©ãƒ ä¼šé•·(666)",
                        "ç¾¤é¦¬"
            ],
            [
                        2006,
                        "",
                        "",
                        "",
                        "",
                        "ã¿ãªã¿é£›é¦™(IR)(ä¼‘)",
                        "",
                        "",
                        "",
                        "ä¸­æ£®è¯å­",
                        "",
                        "DASHãƒã‚µã‚³",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "é‡Œæ­©(AEW)",
                        "",
                        "é‡å´æ¸š\nçœŸç´\næ¾æœ¬æµ©ä»£\né›«æœ‰å¸Œ"
            ],
            [
                        2007,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ç´«é›·ã‚¤ã‚ª(WWE)",
                        "",
                        "ç´«é›·ç¾å¤®\nã‚­ãƒ©ã‚¢ãƒ³\nã‚¬ã‚­ã«ã‚ƒã‚“ä»®é¢"
            ],
            [
                        2008,
                        "æœ±é‡Œ(ä¼‘)",
                        "",
                        "",
                        "",
                        "è—¤æœ¬ã¤ã‹ã•(IR)(ä¼‘)\næ˜Ÿãƒãƒ å­(IR)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å¿—ç”°å…‰(AEW)",
                        "",
                        "æ¾æœ¬éƒ½"
            ],
            [
                        2009,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "çŸ³æ©‹è‘µ(ä¸–ç•Œ)",
                        ""
            ],
            [
                        2010,
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å¸¯åºƒã•ã‚„ã‹",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ä¸–å¿—ç¥(ä¼‘)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "æŸŠãã‚‹ã¿(PR)\nå¤å®Ÿã‚‚ã¡(PR)\nLINDA(ä¿¡å·)",
                        ""
            ],
            [
                        2011,
                        "é¹¿å³¶æ²™å¸Œ",
                        "",
                        "",
                        "å²©è°·éº»å„ª",
                        "å‹æ„›å®Ÿ(IR)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ãƒã‚¤ã‚¸ãƒ»ã‚«ãƒˆãƒªãƒ¼ãƒŠ",
                        "",
                        "",
                        "",
                        "",
                        "HARUKAZE",
                        "",
                        "KAIRI(WWE)",
                        "",
                        "Sareee"
            ],
            [
                        2012,
                        "",
                        "æƒ¡æ–—",
                        "ç‘å¸Œ",
                        "ç¿”æœˆãªã¤ã¿",
                        "",
                        "",
                        "",
                        "",
                        "ãƒ©ã‚¤ãƒ‡ã‚£ãƒ¼ãƒ³é‹¼",
                        "å½©ç¾½åŒ ",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "SAKI(COLORS)\nä¸–ç¾…ã‚Šã•(PR)(å¼•é€€ç™ºè¡¨æ¸ˆ)",
                        ""
            ],
            [
                        2013,
                        "ã‚³ã‚°ãƒ\nè‘‰æœˆ\nAZM",
                        "",
                        "å±±ä¸‹å®Ÿå„ª\nä¸­å³¶ç¿”å­",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ã¾ãªã›ã‚†ã†ãª",
                        "",
                        "å‚å´ãƒ¦ã‚«(AEW)",
                        "YAKO(ã‚¢ãƒ«ãƒãƒªãƒ–ãƒ¬)",
                        "å±±ä¸‹ã‚Šãª\næ—¥å‘å°é™½(ä¼‘)\nå¤ ã™ã¿ã‚Œ\nè—¤ç”°ã‚ã‹ã­\nå°æ—é¦™èŒ\nä¸Šç¦ã‚†ã\nå¼“æ"
            ],
            [
                        2014,
                        "æ¸¡è¾ºæ¡ƒ",
                        "",
                        "è¾°å·³ãƒªã‚«",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "é›ªå¦ƒçœŸçŸ¢"
            ],
            [
                        2015,
                        "ã‚¹ã‚¿ãƒ¼ãƒ©ã‚¤ãƒˆãƒ»ã‚­ãƒƒãƒ‰\nãªã¤ã½ã„\nå®‰ç´ã‚µã‚ªãƒª\nå°æ³¢",
                        "",
                        "ãƒã‚¤ãƒ‘ãƒ¼ãƒŸã‚µãƒ²",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å²©ç”°ç¾é¦™\næ©‹æœ¬åƒç´˜",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ASUKA(WWE)",
                        "",
                        "VENY\nå°¾å´å¦¹åŠ \næœ¬é–“å¤šæµ(10.13å¼•é€€äºˆå®š)\nã‚¸ãƒ£ãƒ³ã‚°ãƒ«å«å¥³"
            ],
            [
                        2016,
                        "åˆ€ç¾…ãƒŠãƒ„ã‚³\nç‰æ‚ªå¤",
                        "èŒ‰è‰",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "æ¡ƒé‡ç¾æ¡œ",
                        "å„ªå®‡(EVE)(å¼•é€€äºˆå®š)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "çµå¥ˆ(REINA)",
                        "ä¼Šè—¤éº»å¸Œ\nå°æ©‹ãƒãƒªã‚«"
            ],
            [
                        2017,
                        "ç¾½å—",
                        "",
                        "",
                        "é’é‡æœªæ¥",
                        "ãƒˆãƒˆãƒ­ã•ã¤ã(IR)\næ˜Ÿã„ã¶ã(IR)",
                        "",
                        "",
                        "ãƒ‡ãƒ“ãƒ¼ã‚«ã‚¤ãƒ†ãƒ«",
                        "",
                        "",
                        "æ„›æµ·\né«˜ç€¬ã¿ã‚†ã",
                        "",
                        "",
                        "NORI",
                        "",
                        "",
                        "æ²™æµ",
                        "ã‚¸ãƒ¥ãƒªã‚¢(WWE)",
                        "é’æœ¨ã„ã¤å¸Œ(SC)",
                        "é–¢å£ç¿”"
            ],
            [
                        2018,
                        "åå—\nå¦ƒå—\néˆ´å­£ã™ãš\næ°´æ£®ç”±èœ\næ˜Ÿæ¥èŠ½ä¾\nã‚¸ãƒ¼ãƒŠ",
                        "å…¥æ±Ÿå½©ä¹ƒ\næœªä¾(ä¼‘)",
                        "çŒ«ã¯ã‚‹ãª(ä¼‘)\næ¸¡è¾ºæœªè©©\nåŸå®¿ã½ã‚€\nã‚‰ã\næ„›é‡ãƒ¦ã‚­",
                        "æ—ä¸‹è©©ç¾\næ¾äº•ç ç´—",
                        "",
                        "",
                        "é§¿æ²³ãƒ¡ã‚¤",
                        "",
                        "è°·ã‚‚ã‚‚",
                        "Maria\nå·ç•‘æ¢¨ç‘š",
                        "",
                        "ç‹ä¼¯",
                        "",
                        "",
                        "",
                        "",
                        "ãƒãƒªå",
                        "ç™½å·æœªå¥ˆ(AEW)",
                        "ç«¹æ—æ—©è‹—(BBJ)\næ«»äº•è£•å­(COLORS)\nç¶²å€‰ç†å¥ˆ(COLORS)\nKONOHA(éŠ€æ²³)\nèŠ±åœ’æ¡ƒèŠ±(ã‚¢ãƒƒãƒ—ã‚¿ã‚¦ãƒ³)\næã¡ã‚ƒã‚€(ä¿¡å·)",
                        ""
            ],
            [
                        2019,
                        "é£¯ç”°æ²™è€¶\nä¸Šè°·æ²™å¼¥\nå‘å¾Œæ¡ƒ\nèˆè¯(ä¼‘)",
                        "",
                        "æ¡ç”ŸçœŸå¼¥\néˆ´èŠ½",
                        "MIRAI",
                        "Yappy(IR)\nã“ã‚†ã(HCC)",
                        "ç¨²è‘‰ã¨ã‚‚ã‹\nrhythm",
                        "æ¡åŸå­£å­\nå°çŸ³å·ãƒã‚¨\næ²™ä¹ŸåŠ ",
                        "æ¢…å’²é¥\nç¾½å¤šä¹ƒãƒŠãƒŠãƒŸ",
                        "AKARI\nä¹…ä»¤æ„›",
                        "",
                        "å²¡å„ªé‡Œä½³",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "å±±ä¸­çµµé‡Œå¥ˆ(BBJ)",
                        "ãƒãƒ‹ãƒ¼åŠå·\nãƒãƒ‰ãƒ¬ãƒ¼ãƒŒ\nã‚¦ãƒŠã‚®ãƒ»ã‚µãƒ¤ã‚«"
            ],
            [
                        2020,
                        "ãƒ¬ãƒ‡ã‚£ãƒ»ï¼£\nå£®éº—äºœç¾\næœˆå±±å’Œé¦™",
                        "",
                        "å®®æœ¬ã‚‚ã‹",
                        "çŸ³å·å¥ˆé’\næ¡œäº•éº»è¡£",
                        "",
                        "æŸ³å·æ¾„æ¨º(7/31ãƒ•ãƒªãƒ¼)\nç¥å§«æ¥½ãƒŸã‚µ(7/31ãƒ•ãƒªãƒ¼)",
                        "",
                        "",
                        "å¤§ç©ºã¡ãˆ",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "YuuRI",
                        "",
                        "",
                        "éˆ´æœ¨ãƒ¦ãƒ©(ã‚¢ãƒ«ãƒãƒªãƒ–ãƒ¬)",
                        "çœŸç™½å„ªå¸Œ"
            ],
            [
                        2021,
                        "è™é¾æ¸…èŠ±",
                        "ãªã‚‹\nå¤è‘µ",
                        "é è—¤æœ‰æ –\né³¥å–°ã‹ã‚„\nè’äº•å„ªå¸Œ",
                        "CHIAKI",
                        "æ¾ä¸‹æ¥“æ­©(IR)\nã‚­ã‚¯(HCC)",
                        "Aoi",
                        "",
                        "",
                        "",
                        "å®å±±æ„›",
                        "",
                        "å’²è˜­",
                        "èŠ±ç©‚ãƒåˆ©",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "é¶´å§«èŠ±ï¼ˆæ„›åª›ï¼‰\nç·‘é‡ã‚¢ãƒŸã‚µ(ã‚¢ãƒ«ãƒãƒªãƒ–ãƒ¬)\nè±Šç”°ç´—ä¹Ÿå¤(T-HEARTS)",
                        ""
            ],
            [
                        2022,
                        "å¤©å’²å…‰ç”±\nãƒœã‚¸ãƒ©",
                        "è’å¹¡å¯§ã€…\nç¦æ°¸è‰å­\næ°´å¶‹ã•ãã‚‰\nã¿ã‚æœå­\nçŸ³å·ã¯ã‚‹ã‹\nKYANREN\nå²©äº•æåŠ \næ‰åŸèŒ‰è‰ä¹ƒ\næ±æœˆãªãã•",
                        "HIMAWARI",
                        "ãƒãƒŸãƒ³ã‚°ãƒãƒ¼ãƒ‰\nãƒ¡ã‚¬ãƒˆãƒ³\nå¾Œè—¤æ™ºé¦™\nå¤©éº—çš‡å¸Œ\nå±±ç”°å¥ˆä¿(ä¼‘)",
                        "æµ·ä¹ƒæœˆé›«(IR)\nã—ã®ã›æ„›æ¢¨ç´—(HCCãƒ»é£›é³¥å…¼ä»»)",
                        "HisokA",
                        "å››ãƒ„è‘‰ãƒŸãƒ¤",
                        "Himiko\nç¾è˜­",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ãƒ•ãƒ©ã‚¤ãƒ³ã‚°ãƒ»ãƒšãƒ³ã‚®ãƒ³\nã½ã£ã½ã¡ã‚ƒã‚“",
                        "",
                        "",
                        "",
                        "å¶ãƒŸã‚¯(T-HEARTS)",
                        "ä¸ƒæ˜Ÿ"
            ],
            [
                        2023,
                        "ã•ãã‚‰ã‚ã‚„\nHANAKO\nç–éº—ã•ã‚„ã‹\nå…«ç¥è˜­å¥ˆ",
                        "é’è‘‰ã¡ã„\nå±±ä¸‹çœŸèœ\nç ”èœã€…ç¾\nå¤©ç¿”ã‚†ã„",
                        "é¢¨åŸãƒãƒ«\nèŠ¦ç”°ç¾æ­©\nå¤§ä¹…ä¿ç‰é‚£(ä¼‘)\néˆ´æœ¨å¿—ä¹ƒ\nå‡é›…\nä¸ŠåŸã‚ã‹ãª",
                        "ãƒ“ã‚¯ãƒˆãƒªã‚¢å¼“æœˆ\nç”°ä¸­ããšãª\nå‹‡æ°—ã¿ãªã¿\nç€¬æˆ¸ãƒ¬ã‚¢",
                        "ã‚†ã¥ã(HCC)\nchouãƒ»chou(HCC)",
                        "ç¨²è‘‰ã‚ãšã•",
                        "ç€¬æˆ¸ãƒãƒã‚«",
                        "é¦™è—¤æº€æœˆ",
                        "",
                        "",
                        "YUNA",
                        "ç‚è¯\néƒ·ç”°æ˜æ—¥é¦™",
                        "",
                        "ã‚­ãƒ£ã‚µãƒªãƒ³",
                        "noa",
                        "",
                        "",
                        "",
                        "å¿—çœŸã†ãŸ(ä¼Šè—¤é“å ´)",
                        "ãƒªã‚¢ãƒ©"
            ],
            [
                        2024,
                        "æ¢¨æ\næµœè¾ºçº",
                        "ã‚¢ãƒ³ãƒª\næ°¸äº•çµµæ¢¨æ²™\nåƒå¤œãƒ’ãƒŠã‚¿\nçŸ³å¡šç¾å¸†\næ—¥èœã¨ã„ã‚\næ¤åŸã‚†ããª",
                        "ä¸ƒç€¬åƒèŠ±\nã‚­ãƒ©ã‚µãƒãƒ¼\né«˜è¦‹æ±ç ",
                        "å—å°æ¡ƒ\næ©˜æ¸š\nå’²æ‘è‰¯å­",
                        "è‹¥èœãã‚‰ã‚Š(IR)\nç·‹å½©ã¾ã›(HCC)",
                        "ã¿ãšè‘‰\nã‚¸ãƒ£ãƒ³ãƒœäº•ä¸Š\nãƒ“ãƒƒã‚°æ˜¥è¯",
                        "å¥è¡£ã‚¨ãƒªãƒ¼\nè°·ç¶¿ãƒ’ãƒ¨ãƒª\nåºƒæµ·ã‚«ãƒ›",
                        "NENE",
                        "JENNE",
                        "å½©èŠ½è’¼ç©º\næšåƒè¯",
                        "",
                        "",
                        "å…‰èŠ½ãƒŸãƒªã‚¢",
                        "ã²ãªãŸä¹ƒå½©",
                        "ãƒ¬ãƒ‡ã‚£ãã‚‰ã‚‰\nãƒ¬ãƒ‡ã‚£ã›ã‚Šãª",
                        "",
                        "ã‚¯ãƒƒã‚­ãƒ¼",
                        "",
                        "",
                        ""
            ],
            [
                        2025,
                        "é‰„ã‚¢ã‚­ãƒ©\nå§«ã‚†ã‚Šã‚\né‡‘å±‹ã‚ã‚“ã­\nå„›å³¶ã‚¨ãƒ\nå¤æ²¢ç¨€æ",
                        "æ¢¨å¤®\n<å¼¥ç¦ã‹ãª>\n<ã‚´ã‚“ã¹>",
                        "å°å¤ã‚Œã‚“",
                        "å±±å²¡è–æ€œ\nå¿ƒå¸Œ\nå±±ï¨‘è£•èŠ±",
                        "ã‚Šã“(IR)\nç·‹å½©ã‚‚ãˆ(HCC)",
                        "ãƒ›ãƒ«ã‚¹ã‚¿ã‚¤ãƒ³ãƒ»ã‚¨ãƒ³ã‚¸ãƒ¥\nãƒ©ãƒ–ãƒªã‚«ãƒ»ãƒ’ãƒŠãƒ¼ãƒ\næ¢å¤œ ä½å­£",
                        "",
                        "<ç·´ç¿’ç”Ÿã‚ã‚“ãª>",
                        "",
                        "æ ¹æœ¬æ¥“èŠ±ï¼ˆãƒ—ãƒ­ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰",
                        "",
                        "",
                        "é¢¨å—ãƒ¦ã‚­\næœ›å¤©ã‚»ãƒ¬ãƒ\n<ã›ã„ãª>",
                        "",
                        "",
                        "",
                        "æ˜Ÿä¹ƒç´”å¥ˆ",
                        "",
                        "è‹ºç•‘ã²ã‚ˆã‚Š(666)\næ¨ªäº•çœŸèœ(REINA)",
                        ""
            ]
];

        debugLog(`ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†: ${wrestlerData.length}è¡Œã®ãƒ‡ãƒ¼ã‚¿`);

        const promotionNames = ["Stardom", "AWG", "TJPW", "ãƒãƒªã‚´", "IR/ãƒ›ãƒƒãƒˆã‚·ãƒ¥ã‚·ãƒ¥", "JTO", "ãƒãƒ§ã‚³ãƒ—ãƒ­", "Diana", "Pure-J", "ãƒãƒ¼ãƒ™ãƒ©ã‚¹", "SENDAI", "Wave", "ã‚·ãƒ¼ãƒ‰", "LLPW-X", "2.5", "ã‚¬ãƒ³ãƒ—ãƒ­", "æŸ³ãƒ¶ç€¬", "æµ·å¤–", "ãã®ä»–", "ãƒ•ãƒªãƒ¼"];

        debugLog(`å›£ä½“åå®šç¾©å®Œäº†: ${promotionNames.length}å›£ä½“`);

        // å…¨ã¦ã®é–¢æ•°ã‚’å®šç¾©
        function calculateTotalWrestlers() {
            debugLog('é¸æ‰‹æ•°è¨ˆç®—é–‹å§‹');
            let total = 0;
            try {
                wrestlerData.forEach((row) => {
                    for (let i = 1; i < row.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            const wrestlerList = wrestlers.split('\n').filter(name => name.trim());
                            total += wrestlerList.length;
                        }
                    }
                });
                document.getElementById('totalWrestlers').textContent = total;
                debugLog(`ç·é¸æ‰‹æ•°: ${total}äºº`);
            } catch (error) {
                debugLog(`é¸æ‰‹æ•°è¨ˆç®—ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        function calculatePromotionWrestlerCounts() {
            debugLog('å›£ä½“åˆ¥é¸æ‰‹æ•°è¨ˆç®—é–‹å§‹');
            const promotionCounts = new Array(promotionNames.length).fill(0);
            
            try {
                wrestlerData.forEach((row) => {
                    for (let i = 1; i < row.length && i <= promotionNames.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            const wrestlerList = wrestlers.split('\n').filter(name => name.trim());
                            promotionCounts[i - 1] += wrestlerList.length;
                        }
                    }
                });
                
                debugLog(`å›£ä½“åˆ¥é¸æ‰‹æ•°è¨ˆç®—å®Œäº†: ${promotionCounts.join(', ')}`);
                return promotionCounts;
            } catch (error) {
                debugLog(`å›£ä½“åˆ¥é¸æ‰‹æ•°è¨ˆç®—ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                return promotionCounts;
            }
        }

        function updatePromotionHeaders() {
            debugLog('å›£ä½“ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°é–‹å§‹');
            try {
                const counts = calculatePromotionWrestlerCounts();
                const headers = document.querySelectorAll('.promotion-header');
                
                headers.forEach((header, index) => {
                    if (index < promotionNames.length && index < counts.length) {
                        const promotionName = promotionNames[index];
                        const count = counts[index];
                        header.textContent = `${promotionName}(${count})`;
                    }
                });
                
                debugLog('å›£ä½“ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°å®Œäº†');
            } catch (error) {
                debugLog(`å›£ä½“ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°ã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        function renderTable(data) {
            debugLog('ãƒ†ãƒ¼ãƒ–ãƒ«æç”»é–‹å§‹');
            try {
                const tableBody = document.getElementById('tableBody');
                if (!tableBody) {
                    debugLog('ã‚¨ãƒ©ãƒ¼: tableBodyãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                    return;
                }
                
                tableBody.innerHTML = '';
                debugLog('ãƒ†ãƒ¼ãƒ–ãƒ«ãƒœãƒ‡ã‚£ã‚¯ãƒªã‚¢å®Œäº†');

                // ã‚½ãƒ¼ãƒˆ
                const sortedData = [...data].sort((a, b) => {
                    return sortOrder === 'desc' ? b[0] - a[0] : a[0] - b[0];
                });
                debugLog(`ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ãƒˆå®Œäº†: ${sortedData.length}è¡Œ`);

                sortedData.forEach((row) => {
                    const tr = document.createElement('tr');
                    
                    // å¹´åº¦ã‚»ãƒ«
                    const yearTd = document.createElement('td');
                    yearTd.textContent = row[0];
                    yearTd.onclick = () => {
                        debugLog(`å¹´åº¦ã‚¯ãƒªãƒƒã‚¯: ${row[0]}`);
                        showYearDetail(row[0], row);
                    };
                    tr.appendChild(yearTd);

                    // å›£ä½“ã‚»ãƒ«
                    for (let i = 1; i < row.length; i++) {
                        const td = document.createElement('td');
                        const wrestlers = row[i];
                        
                        if (wrestlers && wrestlers.trim()) {
                            td.innerHTML = wrestlers.trim().replace(/\n/g, '<br>');
                        } else {
                            td.className = 'empty-cell';
                        }
                        tr.appendChild(td);
                    }
                    
                    tableBody.appendChild(tr);
                });
                
                debugLog(`ãƒ†ãƒ¼ãƒ–ãƒ«æç”»å®Œäº†: ${sortedData.length}è¡Œè¿½åŠ `);
            } catch (error) {
                debugLog(`ãƒ†ãƒ¼ãƒ–ãƒ«æç”»ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error(error);
            }
        }

        function toggleSort() {
            debugLog('ã‚½ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆé–‹å§‹');
            try {
                sortOrder = sortOrder === 'desc' ? 'asc' : 'desc';
                const sortTh = document.querySelector('.sortable');
                if (sortTh) {
                    sortTh.className = 'sortable ' + sortOrder;
                }
                debugLog(`ã‚½ãƒ¼ãƒˆé †å¤‰æ›´: ${sortOrder}`);
                
                renderTable(wrestlerData);
            } catch (error) {
                debugLog(`ã‚½ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error(error);
            }
        }

        function filterByPromotion(promotionName, promotionIndex) {
            debugLog(`å›£ä½“ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é–‹å§‹: ${promotionName} (ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: ${promotionIndex})`);
            try {
                const filteredData = wrestlerData.filter(row => {
                    const wrestlers = row[promotionIndex];
                    return wrestlers && wrestlers.trim();
                });
                
                debugLog(`ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼çµæœ: ${filteredData.length}è¡Œ`);
                
                currentFilter = {
                    type: 'promotion',
                    value: promotionName,
                    data: filteredData,
                    index: promotionIndex
                };
                isFiltered = true;
                
                showControls();
                showPromotionDetail(promotionName, filteredData, promotionIndex);
            } catch (error) {
                debugLog(`å›£ä½“ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error(error);
            }
        }

        function showYearDetail(year, yearRow) {
            debugLog(`å¹´è©³ç´°è¡¨ç¤ºé–‹å§‹: ${year}`);
            try {
                const promotions = [];
                
                for (let i = 1; i < yearRow.length && i - 1 < promotionNames.length; i++) {
                    const wrestlers = yearRow[i];
                    if (wrestlers && wrestlers.trim()) {
                        promotions.push({
                            name: promotionNames[i - 1],
                            wrestlers: wrestlers.split('\n').filter(name => name.trim())
                        });
                    }
                }
                
                debugLog(`å¹´è©³ç´°: ${promotions.length}å›£ä½“ã«é¸æ‰‹åœ¨ç±`);
                
                currentFilter = {type: 'year', value: year, data: promotions};
                isFiltered = true;
                
                showControls();
                showYearDetailView(year, promotions);
            } catch (error) {
                debugLog(`å¹´è©³ç´°è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error(error);
            }
        }

        function showControls() {
            debugLog('ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«è¡¨ç¤º');
            try {
                const controls = document.getElementById('controls');
                controls.style.display = 'flex';
                
                let html = '<button class="back-btn" onclick="resetFilter()">â† å…¨ä½“è¡¨ç¤ºã«æˆ»ã‚‹</button>';
                
                if (currentFilter) {
                    if (currentFilter.type === 'promotion') {
                        html += `<div class="filter-info">ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: ${currentFilter.value}</div>`;
                    } else if (currentFilter.type === 'year') {
                        html += `<div class="filter-info">ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: ${currentFilter.value}å¹´</div>`;
                    }
                }
                
                controls.innerHTML = html;
                debugLog('ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«è¡¨ç¤ºå®Œäº†');
            } catch (error) {
                debugLog(`ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        function showPromotionDetail(promotionName, data, promotionIndex) {
            debugLog(`å›£ä½“è©³ç´°è¡¨ç¤º: ${promotionName}`);
            try {
                document.getElementById('tableContainer').style.display = 'none';
                const yearDetailView = document.getElementById('yearDetailView');
                yearDetailView.style.display = 'block';
                
                let html = `
                    <div class="year-title">${promotionName} æ‰€å±é¸æ‰‹ä¸€è¦§</div>
                    <div class="promotion-grid">
                `;
                
                data.forEach(row => {
                    const year = row[0];
                    const wrestlers = row[promotionIndex];
                    if (wrestlers && typeof wrestlers === 'string') {
                        const wrestlerList = wrestlers.split('\n')
                            .filter(name => name.trim())
                            .map(name => name.trim());
                        
                        html += `
                            <div class="promotion-card">
                                <div class="promotion-name-card">${year}å¹´ãƒ‡ãƒ“ãƒ¥ãƒ¼</div>
                                <div class="wrestler-names-card">${wrestlerList.join('<br>')}</div>
                            </div>
                        `;
                    }
                });
                
                html += '</div>';
                yearDetailView.innerHTML = html;
                debugLog('å›£ä½“è©³ç´°è¡¨ç¤ºå®Œäº†');
            } catch (error) {
                debugLog(`å›£ä½“è©³ç´°è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        function showYearDetailView(year, promotions) {
            debugLog(`å¹´åˆ¥è©³ç´°è¡¨ç¤º: ${year}`);
            try {
                document.getElementById('tableContainer').style.display = 'none';
                const yearDetailView = document.getElementById('yearDetailView');
                yearDetailView.style.display = 'block';
                
                let html = `
                    <div class="year-title">${year}å¹´ãƒ‡ãƒ“ãƒ¥ãƒ¼é¸æ‰‹ä¸€è¦§</div>
                    <div class="promotion-grid">
                `;
                
                promotions.forEach(promotion => {
                    html += `
                        <div class="promotion-card">
                            <div class="promotion-name-card">${promotion.name}</div>
                            <div class="wrestler-names-card">${promotion.wrestlers.join('<br>')}</div>
                        </div>
                    `;
                });
                
                html += '</div>';
                yearDetailView.innerHTML = html;
                debugLog('å¹´åˆ¥è©³ç´°è¡¨ç¤ºå®Œäº†');
            } catch (error) {
                debugLog(`å¹´åˆ¥è©³ç´°è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        function resetFilter() {
            debugLog('ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆ');
            try {
                currentFilter = null;
                isFiltered = false;
                
                document.getElementById('controls').style.display = 'none';
                document.getElementById('yearDetailView').style.display = 'none';
                document.getElementById('tableContainer').style.display = 'block';
                
                renderTable(wrestlerData);
                debugLog('ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆå®Œäº†');
            } catch (error) {
                debugLog(`ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
            }
        }

        // åˆæœŸè¡¨ç¤º
        window.onload = function() {
            debugLog('window.onloadé–‹å§‹');
            try {
                renderTable(wrestlerData);
                debugLog('ãƒ†ãƒ¼ãƒ–ãƒ«æç”»å®Œäº†');
                calculateTotalWrestlers();
                debugLog('é¸æ‰‹æ•°è¨ˆç®—å®Œäº†');
                updatePromotionHeaders();
                debugLog('å›£ä½“ãƒ˜ãƒƒãƒ€ãƒ¼æ›´æ–°å®Œäº†');
                debugLog('åˆæœŸåŒ–å®Œäº† - å…¨ã¦ã®æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½ã§ã™');
            } catch (error) {
                debugLog(`åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                console.error(error);
            }
        };

        debugLog('å…¨ã¦ã®é–¢æ•°å®šç¾©å®Œäº†');
    </script>
</body>
</html>