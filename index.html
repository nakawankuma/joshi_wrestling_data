<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â•≥Â≠ê„Éó„É≠„É¨„ÇπÈÅ∏Êâã‰∏ÄË¶ßË°®„ÄÄ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .content {
            padding: 30px;
        }
        
        .debug-controls {
            margin: 30px 0 10px 0;
            text-align: center;
        }
        
        .debug-toggle {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 10px;
            font-weight: normal;
            box-shadow: 0 2px 5px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        
        .debug-toggle:hover {
            background: linear-gradient(135deg, #495057, #343a40);
            transform: translateY(-1px);
            opacity: 1;
        }
        
        .debug-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            display: none;
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 30px 0;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .controls {
            display: none;
            gap: 15px;
            margin: 20px 0;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .filter-info {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .table-container {
            margin: 30px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: 2px solid #e0e0e0;
        }
        
        .table-wrapper {
            overflow-x: auto;
            max-height: 800px;
            overflow-y: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            min-width: 1400px;
        }
        
        /* Áµû„ÇäËæº„ÅøÊôÇ„ÅÆ„ÉÜ„Éº„Éñ„É´ÂπÖË™øÊï¥ */
        .table-container.filtered table {
            min-width: auto;
            width: auto;
        }
        
        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 8px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #ddd;
            position: sticky;
            top: 0;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        th:hover {
            background: linear-gradient(135deg, #5a67d8, #667eea);
        }
        
        th:first-child {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            position: sticky;
            left: 0;
            z-index: 11;
            min-width: 80px;
            width: auto;
        }
        
        th:first-child:hover {
            background: linear-gradient(135deg, #e55656, #d63031);
        }
        
        .sortable::after {
            content: ' ‚Üï';
            font-size: 12px;
            opacity: 0.7;
        }
        
        
        .sortable.desc::after {
            content: ' ‚Üì';
            opacity: 1;
        }
        
        td {
            padding: 10px 8px;
            border: 1px solid #ddd;
            vertical-align: top;
            line-height: 1.4;
            max-width: 150px;
            word-wrap: break-word;
        }
        
        td:first-child {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            font-weight: bold;
            text-align: center;
            position: sticky;
            left: 0;
            z-index: 9;
            min-width: 80px;
            width: auto;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        td:first-child:hover {
            background: linear-gradient(135deg, #e55656, #d63031);
        }
        
        tr:nth-child(even) td:not(:first-child) {
            background: #f8f9fa;
        }
        
        tr:hover td:not(:first-child) {
            background: #e3f2fd;
        }
        
        
        
        
        .promotion-header {
            font-size: 11px;
            writing-mode: horizontal-tb;
            text-orientation: mixed;
            min-width: 120px;
            max-width: 120px;
            transition: min-width 0.3s ease, max-width 0.3s ease;
        }
        
        /* Áµû„ÇäËæº„ÅøÊôÇ„ÅÆÂãïÁöÑÂàóÂπÖË™øÊï¥ */
        .table-container.filtered .promotion-header:not(.hidden-column) {
            min-width: 120px;
            max-width: 250px;
            width: auto;
        }
        
        .table-container.filtered td:not(:first-child):not(.hidden-column) {
            min-width: 120px;
            max-width: 250px;
            width: auto;
        }
        
        /* Áµû„ÇäËæº„ÅøÊôÇ„ÅÆ„Éá„Éì„É•„ÉºÂπ¥Âàó„ÅÆÂπÖË™øÊï¥ */
        .table-container.filtered th:first-child,
        .table-container.filtered td:first-child {
            width: 60px;
            min-width: 60px;
            max-width: 60px;
        }

        /* Êê∫Â∏Ø„Åß„ÅÆÁµû„ÇäËæº„ÅøÊôÇ„ÅÆÁâπÂà•Ë™øÊï¥ */
        @media (max-width: 768px) {
            .table-container.filtered .promotion-header:not(.hidden-column) {
                min-width: 80px;
                max-width: 120px;
                font-size: 9px;
            }
            
            .table-container.filtered td:not(:first-child):not(.hidden-column) {
                min-width: 80px;
                max-width: 120px;
                font-size: 10px;
            }
            
            .table-container.filtered th:first-child,
            .table-container.filtered td:first-child {
                width: 40px;
                min-width: 40px;
                max-width: 40px;
                font-size: 9px;
            }
        }
        
        .year-detail-view {
            display: none;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .year-title {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .promotion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .promotion-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-top: 3px solid #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .promotion-name-card {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .wrestler-names-card {
            color: #2d3436;
            line-height: 1.6;
        }
        
        /* Ê§úÁ¥¢Ê©üËÉΩ„ÅÆ„Çπ„Çø„Ç§„É´ */
        .search-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #667eea;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
            background: white;
        }
        
        .search-input:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }
        
        .clear-btn {
            background: linear-gradient(135deg, #a55eea, #8e44ad);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .clear-btn:hover {
            background: linear-gradient(135deg, #9c88ff, #7f39fb);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* Ê§úÁ¥¢ÁµêÊûú„ÅÆ„Éè„Ç§„É©„Ç§„Éà */
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        /* ÈùûË°®Á§∫Âàó„ÅÆ„Çπ„Çø„Ç§„É´ */
        .hidden-column {
            display: none !important;
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥ÂØæÂøú */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                margin: 0;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 1.5rem;
                margin-bottom: 10px;
            }
            
            .header p {
                font-size: 14px;
                margin: 0;
            }
            
            .content {
                padding: 15px;
            }
            
            .stats-summary {
                max-width: 200px;
                margin: 20px auto;
            }
            
            .stat-card {
                padding: 15px;
            }
            
            .stat-number {
                font-size: 1.5rem;
            }
            
            .search-container {
                flex-direction: column;
                gap: 10px;
                max-width: 100%;
                margin: 15px 0;
            }
            
            .search-input {
                font-size: 16px;
                padding: 12px;
            }
            
            .clear-btn {
                width: 100%;
                padding: 12px;
            }
            
            .controls {
                flex-direction: column;
                gap: 10px;
                align-items: stretch;
            }
            
            .back-btn {
                width: 100%;
                padding: 12px;
                font-size: 16px;
            }
            
            .filter-info {
                text-align: center;
                margin: 0;
            }
            
            /* „ÉÜ„Éº„Éñ„É´Èñ¢ÈÄ£„ÅÆÊê∫Â∏ØÂØæÂøú */
            .table-container {
                margin: 15px 0;
                border-radius: 10px;
            }
            
            .table-wrapper {
                max-height: 60vh;
            }
            
            table {
                font-size: 11px;
                min-width: auto;
            }
            
            th, td {
                padding: 8px 4px;
                font-size: 10px;
                /* „Çø„ÉÉ„ÉÅÊìç‰ΩúÂêë„Åë„Å´ÊúÄÂ∞è„Çø„ÉÉ„ÉóÈ†òÂüü„ÇíÁ¢∫‰øù */
                min-height: 44px;
            }
            
            /* Êê∫Â∏Ø„Åß„ÅØÂõ∫ÂÆö‰ΩçÁΩÆ„ÇíÁÑ°ÂäπÂåñ */
            th {
                position: static !important;
                top: auto !important;
                left: auto !important;
                z-index: auto !important;
            }
            
            th:first-child, td:first-child {
                min-width: 50px;
                width: 50px;
                font-size: 9px;
                /* Âπ¥Â∫¶„Çª„É´„ÅÆ„Çø„ÉÉ„ÉÅÈ†òÂüü„ÇíÂ∫É„Åí„Çã */
                cursor: pointer;
                user-select: none;
                -webkit-touch-callout: none;
                /* Êê∫Â∏Ø„Åß„ÅØÂõ∫ÂÆö‰ΩçÁΩÆ„ÇíÁÑ°ÂäπÂåñ */
                position: static !important;
                left: auto !important;
                z-index: auto !important;
            }
            
            td:first-child {
                /* Âπ¥Â∫¶„Çª„É´„ÅÆÂõ∫ÂÆö‰ΩçÁΩÆ„ÇÇÁÑ°ÂäπÂåñ */
                position: static !important;
                left: auto !important;
                z-index: auto !important;
            }
            
            .promotion-header {
                min-width: 60px;
                max-width: 80px;
                font-size: 9px;
                /* Êê∫Â∏Ø„Åß„ÅØÁ∏¶Êõ∏„Åç„Å´Â§âÊõ¥ */
                writing-mode: vertical-rl;
                text-orientation: mixed;
                /* „Çø„ÉÉ„ÉÅÊìç‰Ωú„ÅÆÊîπÂñÑ */
                cursor: pointer;
                user-select: none;
                -webkit-touch-callout: none;
                /* „Çø„ÉÉ„ÉóÊôÇ„ÅÆ„Éè„Ç§„É©„Ç§„ÉàÊäëÂà∂ */
                -webkit-tap-highlight-color: transparent;
            }
            
            /* Âπ¥Âà•Ë©≥Á¥∞„Éì„É•„Éº„ÅÆÊê∫Â∏ØÂØæÂøú */
            .year-detail-view {
                padding: 15px;
                margin: 15px 0;
            }
            
            .year-title {
                font-size: 1.2rem;
                padding: 12px;
            }
            
            .promotion-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .promotion-card {
                padding: 12px;
            }
            
            .promotion-name-card {
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .wrestler-names-card {
                font-size: 13px;
                line-height: 1.4;
            }
            
            /* „Éá„Éê„ÉÉ„Ç∞„Ç≥„É≥„Éà„É≠„Éº„É´„ÅÆË™øÊï¥ */
            .debug-controls {
                margin: 20px 0 5px 0;
            }
            
            .debug-toggle {
                font-size: 9px;
                padding: 4px 8px;
            }
        }

        /* „Çø„Éñ„É¨„ÉÉ„ÉàÂØæÂøú (769px - 1024px) */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                margin: 15px;
            }
            
            .content {
                padding: 25px;
            }
            
            table {
                font-size: 12px;
            }
            
            th, td {
                padding: 10px 6px;
            }
            
            .promotion-header {
                min-width: 100px;
                max-width: 110px;
                font-size: 10px;
                /* „Çø„Éñ„É¨„ÉÉ„Éà„Åß„ÅØÊ®™Êõ∏„Åç„ÇíÁ∂≠ÊåÅ */
                writing-mode: horizontal-tb;
                text-orientation: mixed;
            }
        }
    </style>
</head>
<body>

    <div class="container" id="content">
        <div class="header">
            <h1>ü§º‚Äç‚ôÄÔ∏è Â•≥Â≠ê„Éó„É≠„É¨„ÇπÈÅ∏Êâã‰∏ÄË¶ßË°® ü§º‚Äç‚ôÄÔ∏è</h1>
            <p>ÁèæÂΩπÈÅ∏Êâã„ÅÆ„Éá„Éì„É•„ÉºÂπ¥„ÉªÂõ£‰ΩìÂà•ÂÆåÂÖ®„Éá„Éº„Çø</p>
        </div>
        
        <div class="content">
            <div class="stats-summary">
                <div class="stat-card">
                    <div class="stat-number" id="totalWrestlers">Ë®àÁÆó‰∏≠...</div>
                    <div class="stat-label" id="totalWrestlersLabel">Á∑èÁèæÂΩπÈÅ∏ÊâãÊï∞</div>
                </div>
            </div>
            
            <!-- ÈÅ∏ÊâãÂêçÊ§úÁ¥¢Ê©üËÉΩ -->
            <div class="search-container">
                <input type="text" id="wrestlerSearch" placeholder="ÈÅ∏ÊâãÂêç„ÅßÊ§úÁ¥¢..." class="search-input" aria-label="ÈÅ∏ÊâãÂêçÊ§úÁ¥¢" oninput="searchWrestlers()" onkeyup="searchWrestlers()">
                <button onclick="clearSearch()" class="clear-btn">„ÇØ„É™„Ç¢</button>
            </div>
            
            <div class="controls" id="controls">
                <!-- „Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥„Åå„Åì„Åì„Å´ÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Åæ„Åô -->
            </div>
            
            <div class="year-detail-view" id="yearDetailView">
                <!-- Âπ¥Âà•Ë©≥Á¥∞„Éì„É•„Éº„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô -->
            </div>
            
            <div class="table-container" id="tableContainer">
                <div class="table-wrapper">
                    <table id="wrestlersTable">
                        <thead>
                            <tr>
                                <th class="sortable desc" onclick="toggleSort()">„Éá„Éì„É•„ÉºÂπ¥</th>
                                <th class="promotion-header" onclick="filterByPromotion('Stardom', 1)">Stardom</th>
                                <th class="promotion-header" onclick="filterByPromotion('AWG', 2)">AWG</th>
                                <th class="promotion-header" onclick="filterByPromotion('TJPW', 3)">TJPW</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Éû„É™„Ç¥', 4)">„Éû„É™„Ç¥</th>
                                <th class="promotion-header" onclick="filterByPromotion('IR/„Éõ„ÉÉ„Éà„Ç∑„É•„Ç∑„É•', 5)">IR/„Éõ„ÉÉ„Éà„Ç∑„É•„Ç∑„É•</th>
                                <th class="promotion-header" onclick="filterByPromotion('Diana', 6)">Diana</th>
                                <th class="promotion-header" onclick="filterByPromotion('JTO', 7)">JTO</th>
                                <th class="promotion-header" onclick="filterByPromotion('„ÉÅ„Éß„Ç≥„Éó„É≠', 8)">„ÉÅ„Éß„Ç≥„Éó„É≠</th>
                                <th class="promotion-header" onclick="filterByPromotion('Venus(1.4ÊóóÊèö„Åí)', 9)">Venus(1.4ÊóóÊèö„Åí)</th>
                                <th class="promotion-header" onclick="filterByPromotion('SENDAI', 10)">SENDAI</th>
                                <th class="promotion-header" onclick="filterByPromotion('Pure-J', 11)">Pure-J</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Éû„Éº„Éô„É©„Çπ', 12)">„Éû„Éº„Éô„É©„Çπ</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Å™„Å´„ÇèÂ•≥Â≠ê', 13)">„Å™„Å´„ÇèÂ•≥Â≠ê</th>
                                <th class="promotion-header" onclick="filterByPromotion('LLPW-X', 14)">LLPW-X</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Ç∑„Éº„Éâ', 15)">„Ç∑„Éº„Éâ</th>
                                <th class="promotion-header" onclick="filterByPromotion('Wave', 16)">Wave</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Ç¨„É≥„Éó„É≠', 17)">„Ç¨„É≥„Éó„É≠</th>
                                <th class="promotion-header" onclick="filterByPromotion('Êü≥„É∂ÁÄ¨', 18)">Êü≥„É∂ÁÄ¨</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Ç®„Éú„É™„É•„Éº„Ç∑„Éß„É≥', 19)">„Ç®„Éú„É™„É•„Éº„Ç∑„Éß„É≥</th>
                                <th class="promotion-header" onclick="filterByPromotion('BBJ', 20)">BBJ</th>
                                <th class="promotion-header" onclick="filterByPromotion('PPP', 21)">PPP</th>
                                <th class="promotion-header" onclick="filterByPromotion('Êµ∑Â§ñ', 22)">Êµ∑Â§ñ</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Åù„ÅÆ‰ªñ', 23)">„Åù„ÅÆ‰ªñ</th>
                                <th class="promotion-header" onclick="filterByPromotion('„Éï„É™„Éº', 24)">„Éï„É™„Éº</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- „Éá„Éº„Çø„ÅåJavaScript„ÅßËøΩÂä†„Åï„Çå„Åæ„Åô -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- „Éá„Éê„ÉÉ„Ç∞„Ç≥„É≥„Éà„É≠„Éº„É´Ôºà‰∏ÄÁï™‰∏ã„Å´Â∞è„Åï„ÅèÈÖçÁΩÆÔºâ -->
            <div class="debug-controls">
                <button class="debug-toggle" onclick="toggleDebug()">üîß „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†± Ë°®Á§∫/ÈùûË°®Á§∫</button>
            </div>
            
            <!-- „Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±Ë°®Á§∫„Ç®„É™„Ç¢ -->
            <div class="debug-info" id="debugInfo">
                <strong>„Éá„Éê„ÉÉ„Ç∞„É≠„Ç∞:</strong><br>
                Ë™≠„ÅøËæº„ÅøÈñãÂßã...<br>
            </div>
        </div>
    </div>

    <script>
        // „Éá„Éê„ÉÉ„Ç∞Áî®„É≠„Ç∞Èñ¢Êï∞
        function debugLog(message) {
            const debugInfo = document.getElementById('debugInfo');
            const currentTime = new Date().toLocaleTimeString();
            debugInfo.innerHTML += `${currentTime}: ${message}<br>`;
            debugInfo.scrollTop = debugInfo.scrollHeight;
            console.log(message);
        }

        // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
        let sortOrder = 'desc';
        let currentFilter = null;
        let isFiltered = false;
        let debugVisible = false;
        let originalData = null; // Ê§úÁ¥¢Ââç„ÅÆ„Ç™„É™„Ç∏„Éä„É´„Éá„Éº„Çø‰øùÂ≠òÁî®
        let isSearching = false; // Ê§úÁ¥¢‰∏≠„Éï„É©„Ç∞

        debugLog('„Çπ„ÇØ„É™„Éó„ÉàÈñãÂßã - „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞ÂàùÊúüÂåñÂÆå‰∫Ü');

        // URL„Éë„É©„É°„Éº„ÇøÊìç‰ΩúÈñ¢Êï∞
        /**
         * URL„ÇØ„Ç®„É™„Éë„É©„É°„Éº„Çø„ÇíÊõ¥Êñ∞„Åô„Çã
         * @param {Object} params - Ë®≠ÂÆö„Åô„Çã„Éë„É©„É°„Éº„Çø {key: value}
         */
        function updateURLParams(params) {
            const url = new URL(window.location);
            Object.keys(params).forEach(key => {
                if (params[key] === null || params[key] === undefined) {
                    url.searchParams.delete(key);
                } else {
                    url.searchParams.set(key, params[key]);
                }
            });
            window.history.pushState({}, '', url);
            debugLog(`URLÊõ¥Êñ∞: ${url.search}`);
        }

        /**
         * URL„ÇØ„Ç®„É™„Éë„É©„É°„Éº„Çø„ÇíÂèñÂæó„Åô„Çã
         * @param {string} key - ÂèñÂæó„Åô„Çã„Éë„É©„É°„Éº„ÇøÂêç
         * @returns {string|null} „Éë„É©„É°„Éº„ÇøÂÄ§
         */
        function getURLParam(key) {
            const params = new URLSearchParams(window.location.search);
            return params.get(key);
        }

        /**
         * ÂÖ®„Å¶„ÅÆURL„Éë„É©„É°„Éº„Çø„Çí„ÇØ„É™„Ç¢„Åô„Çã
         */
        function clearURLParams() {
            window.history.pushState({}, '', window.location.pathname);
            debugLog('URL„Éë„É©„É°„Éº„Çø„ÇØ„É™„Ç¢');
        }

        /**
         * URL„Éë„É©„É°„Éº„Çø„Åã„Çâ„Éï„Ç£„É´„Çø„ÉºÁä∂ÊÖã„ÇíÂæ©ÂÖÉ„Åô„Çã
         */
        function restoreFromURL() {
            debugLog('URLÁä∂ÊÖãÂæ©ÂÖÉÈñãÂßã');
            try {
                const filterType = getURLParam('filter');
                const searchParam = getURLParam('search');

                // Ê§úÁ¥¢„Éë„É©„É°„Éº„Çø„ÅÆÂæ©ÂÖÉ
                if (searchParam) {
                    const searchInput = document.getElementById('wrestlerSearch');
                    searchInput.value = searchParam;
                    searchWrestlers();
                    debugLog(`Ê§úÁ¥¢Âæ©ÂÖÉ: ${searchParam}`);
                }

                // „Éï„Ç£„É´„Çø„Éº„Éë„É©„É°„Éº„Çø„ÅÆÂæ©ÂÖÉ
                if (filterType === 'promotion') {
                    const promotionName = getURLParam('promotion');
                    if (promotionName) {
                        // Âõ£‰ΩìÂêç„Åã„Çâ„Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ„ÇíÂèñÂæó
                        const promotionIndex = promotionNames.indexOf(promotionName);
                        if (promotionIndex !== -1) {
                            filterByPromotion(promotionName, promotionIndex + 1);
                            debugLog(`Âõ£‰Ωì„Éï„Ç£„É´„Çø„ÉºÂæ©ÂÖÉ: ${promotionName}`);
                        }
                    }
                } else if (filterType === 'year') {
                    const year = getURLParam('year');
                    if (year) {
                        // ÊñáÂ≠óÂàó„Å®„Åó„Å¶ÊØîËºÉ
                        const yearRow = wrestlerData.find(row => String(row[0]) === year);
                        if (yearRow) {
                            showYearDetail(year, yearRow);
                            debugLog(`Âπ¥Â∫¶„Éï„Ç£„É´„Çø„ÉºÂæ©ÂÖÉ: ${year}`);
                        }
                    }
                }

                debugLog('URLÁä∂ÊÖãÂæ©ÂÖÉÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`URLÁä∂ÊÖãÂæ©ÂÖÉ„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        // „Éá„Éê„ÉÉ„Ç∞Ë°®Á§∫Âàá„ÇäÊõø„ÅàÈñ¢Êï∞
        function toggleDebug() {
            debugVisible = !debugVisible;
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.style.display = debugVisible ? 'block' : 'none';
            debugLog(`„Éá„Éê„ÉÉ„Ç∞Ë°®Á§∫: ${debugVisible ? 'Ë°®Á§∫' : 'ÈùûË°®Á§∫'}`);
        }

        // „Éá„Éº„Çø„ÇíÁõ¥Êé•ÂÆöÁæ©ÔºàÂÆåÂÖ®ÁâàÔºâ
        // Ê≥®: Âπ¥Â∫¶Ê¨Ñ„ÅØÊñáÂ≠óÂàó„Å®„Åó„Å¶Êâ±„ÅÑ„ÄÅÁ∑¥ÁøíÁîü„Å™„Å©„ÅÆÁâπÊÆäÂÄ§„Å´„ÇÇÂØæÂøú
        const wrestlerData = [
            [
                        "1977",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Ç∏„É£„Ç¨„ÉºÊ®™Áî∞",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1978",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1979",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1980",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Èï∑‰∏éÂçÉÁ®Æ",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„ÉÄ„É≥„ÉóÊùæÊú¨"
            ],
            [
                        "1981",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1982",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1983",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1984",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1985",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â†ÄÁî∞Á•êÁæéÂ≠ê(T-HEARTS)",
                        ""
            ],
            [
                        "1986",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Á•ûÂèñÂøç",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â∞æÂ¥éÈ≠îÂºì(OZ)",
                        "„Ç¢„Ç∏„É£„Ç≥„É≥„Ç∞"
            ],
            [
                        "1987",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰∏ãÁî∞ÁæéÈ¶¨"
            ],
            [
                        "1988",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰∫ï‰∏ä‰∫¨Â≠ê",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰∫ï‰∏äË≤¥Â≠ê",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1989",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰ºäËó§Ëñ´(‰ºäËó§ÈÅìÂ†¥)",
                        "Ê∏°Ëæ∫Êô∫Â≠ê"
            ],
            [
                        "1990",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1991",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1992",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1993",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1994",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "1995",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Åï„Åè„Çâ„Åà„Åø",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ÂÆÆÂ¥éÊúâÂ¶É(2026.1.1ÂºïÈÄÄ‰∫àÂÆö)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Éü„Çπ„Éª„É¢„É≥„Ç¥„É´(‰∏ñÁïå)",
                        "Ê∞∏Â≥∂ÂçÉ‰Ω≥‰∏ñ\nÂÄâÂû£Áøº"
            ],
            [
                        "1996",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Ç∑„É≥„ÉªÂ∫ÉÁî∞„ÉªËëõÈ£æ„Åï„Åè„Çâ"
            ],
            [
                        "1997",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "KAZUKI",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Ëó™‰∏ã„ÇÅ„Åê„Åø"
            ],
            [
                        "1998",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "AKINO(OZ)",
                        "Êïë‰∏ñÂøçËÄÖ‰π±‰∏∏"
            ],
            [
                        "1999",
                        "„Éï„Ç≠„Ç≤„É≥„Åß„Åô",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Á±≥Â±±È¶ôÁπî(„Ç¥„Ç≠„Ç≤„É≥)",
                        ""
            ],
            [
                        "2000",
                        "",
                        "MARU",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Leon",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â±±Á∏£ÂÑ™\nÂîØÊàë"
            ],
            [
                        "2001",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰ΩêËó§Á∂æÂ≠ê",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Ê°úËä±Áî±Áæé",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "2002",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Éè„Ç§„Éì„Çπ„Ç´„Çπ„Åø„ÅÉ(ÁêâÁêÉ)",
                        ""
            ],
            [
                        "2003",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        ""
            ],
            [
                        "2004",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Éê„É≥„Éì(‰∏ñÁïå)",
                        "„ÉÅ„Çß„É™„Éº\nÊ∞¥Ê≥¢Á∂æ"
            ],
            [
                        "2005",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Êò•Êó•ËêåËä±",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„É©„É†‰ºöÈï∑(666)\nÁæ§È¶¨„Ç≠„É£„ÉÉ„Éà(Áæ§È¶¨)",
                        ""
            ],
            [
                        "2006",
                        "",
                        "",
                        "",
                        "",
                        "„Åø„Å™„ÅøÈ£õÈ¶ô(IR,V)",
                        "",
                        "",
                        "",
                        "„Åø„Å™„ÅøÈ£õÈ¶ô(IR,V)",
                        "DASH„ÉÅ„Çµ„Ç≥",
                        "‰∏≠Ê£ÆËèØÂ≠ê",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ÈáåÊ≠©(AEW)",
                        "",
                        "ÈáéÂ¥éÊ∏ö\nÁúüÁê¥\nÊùæÊú¨Êµ©‰ª£\nÈõ´ÊúâÂ∏å"
            ],
            [
                        "2007",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Á¥´Èõ∑„Ç§„Ç™(WWE)",
                        "",
                        "Á¥´Èõ∑ÁæéÂ§Æ\n„Ç≠„É©‚ú©„Ç¢„É≥\n„Ç¨„Ç≠„Å´„ÇÉ„Çì‰ªÆÈù¢"
            ],
            [
                        "2008",
                        "Êú±Èáå",
                        "",
                        "",
                        "",
                        "Ëó§Êú¨„Å§„Åã„Åï(IR)(‰ºë)\nÊòü„Éè„É†Â≠ê(IR)(‰ºë)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ÂøóÁî∞ÂÖâ(AEW)",
                        "",
                        "ÊùæÊú¨ÈÉΩ"
            ],
            [
                        "2009",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Áü≥Ê©ãËëµ(‰∏ñÁïå)",
                        ""
            ],
            [
                        "2010",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â∏ØÂ∫É„Åï„ÇÑ„Åã",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "‰∏ñÂøóÁê•(‰ºë)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Êüä„Åè„Çã„Åø(PR)\nÂ§èÂÆü„ÇÇ„Å°(PR)\nLINDA(‰ø°Â∑û)",
                        ""
            ],
            [
                        "2011",
                        "ÈπøÂ≥∂Ê≤ôÂ∏å",
                        "",
                        "",
                        "Â≤©Ë∞∑È∫ªÂÑ™",
                        "ÂãùÊÑõÂÆü(IR)",
                        "",
                        "",
                        "",
                        "",
                        "„Éè„Ç§„Ç∏„Éª„Ç´„Éà„É™„Éº„Éä",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "HARUKAZE",
                        "",
                        "",
                        "",
                        "",
                        "KAIRI(WWE)",
                        "",
                        "Sareee\n„Éï„Çß„Ç¢„É™„ÉºÊó•Êú¨Ê©ã"
            ],
            [
                        "2012",
                        "„Éì„Éº„Éª„Éó„É¨„Çπ„Éà„É™„Éº",
                        "ÊÉ°Êñó(‰ºë)",
                        "ÁëûÂ∏å",
                        "ÁøîÊúà„Å™„Å§„Åø",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„É©„Ç§„Éá„Ç£„Éº„É≥Èãº",
                        "ÂΩ©ÁæΩÂå†",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "SAKI(COLORS)\n‰∏ñÁæÖ„Çä„Åï(PR)(2026.1.12ÂºïÈÄÄ‰∫àÂÆö)",
                        ""
            ],
            [
                        "2013",
                        "„Ç≥„Ç∞„Éû\nËëâÊúà\nAZM",
                        "",
                        "Â±±‰∏ãÂÆüÂÑ™\n‰∏≠Â≥∂ÁøîÂ≠ê\n‰∏äÁ¶è„ÇÜ„Åç",
                        "",
                        "ÂÑ™ËèØ(IR,V)",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Åæ„Å™„Åõ„ÇÜ„ÅÜ„Å™",
                        "",
                        "",
                        "",
                        "",
                        "ÂùÇÂ¥é„É¶„Ç´(AEW)",
                        "YAKO(„Ç¢„É´„Éû„É™„Éñ„É¨)\nÁ•ûÁî∞ÊÑõÂÆü(ÂåóÈÉΩ)",
                        "Â±±‰∏ã„Çä„Å™\nÊó•ÂêëÂ∞èÈôΩ(‰ºë)\nÂ§è „Åô„Åø„Çå\nËó§Áî∞„ÅÇ„Åã„Å≠\nÂ∞èÊûóÈ¶ôËêå\nÂºìÊùé"
            ],
            [
                        "2014",
                        "Ê∏°Ëæ∫Ê°É(‰ºë)",
                        "",
                        "Ëæ∞Â∑≥„É™„Ç´",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„ÅÇ„Åç„Å∞Ê†û(SECRETBASE)",
                        "Èõ™Â¶ÉÁúüÁü¢"
            ],
            [
                        "2015",
                        "„Çπ„Çø„Éº„É©„Ç§„Éà„Éª„Ç≠„ÉÉ„Éâ(‰ºë)\n„Å™„Å§„ÅΩ„ÅÑ\nÂÆâÁ¥ç„Çµ„Ç™„É™\nÂ∞èÊ≥¢",
                        "",
                        "„Éè„Ç§„Éë„Éº„Éü„Çµ„É≤",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â≤©Áî∞ÁæéÈ¶ô\nÊ©ãÊú¨ÂçÉÁ¥ò",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ASUKA(WWE)",
                        "",
                        "VENY\nÂ∞æÂ¥éÂ¶πÂä†\n„Ç∏„É£„É≥„Ç∞„É´Âè´Â•≥(‰ºë)"
            ],
            [
                        "2016",
                        "ÂàÄÁæÖ„Éä„ÉÑ„Ç≥\nÁêâÊÇ™Â§è",
                        "ËåâËéâ",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ÂÑ™ÂÆá(EVE)(2025.12.28ÂºïÈÄÄ‰∫àÂÆö)",
                        "",
                        "Ê°ÉÈáéÁæéÊ°ú",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "ÁµêÂ•à(REINA)",
                        "‰ºäËó§È∫ªÂ∏å\nÂ∞èÊ©ã„Éû„É™„Ç´\nÂáõ"
            ],
            [
                        "2017",
                        "ÁæΩÂçó(‰ºë)",
                        "",
                        "",
                        "ÈùíÈáéÊú™Êù•",
                        "„Éà„Éà„É≠„Åï„Å§„Åç(IR)\nÊòü„ÅÑ„Å∂„Åç(IR)",
                        "„Éá„Éì„Éº„Ç´„Ç§„ÉÜ„É´",
                        "",
                        "",
                        "",
                        "ÊÑõÊµ∑\nÈ´òÁÄ¨„Åø„ÇÜ„Åç",
                        "",
                        "",
                        "",
                        "NORI",
                        "",
                        "",
                        "",
                        "Ê≤ôÊÅµ",
                        "",
                        "",
                        "",
                        "„Ç∏„É•„É™„Ç¢(WWE)",
                        "ÈùíÊú®„ÅÑ„Å§Â∏å(SC)\nÁ¨πÊùë„ÅÇ„ÇÑ„ÇÅ(2AW)",
                        "Èñ¢Âè£Áøî"
            ],
            [
                        "2018",
                        "ÂêèÂçó\nÂ¶ÉÂçó\nÈà¥Â≠£„Åô„Åö\nÊ∞¥Ê£ÆÁî±Ëèú\nÊòüÊù•ËäΩ‰æù\n„Ç∏„Éº„Éä",
                        "ÂÖ•Ê±üÂΩ©‰πÉ",
                        "Ê∏°Ëæ∫Êú™Ë©©\nÂéüÂÆø„ÅΩ„ÇÄ\n„Çâ„Åè\nÊÑõÈáé„É¶„Ç≠",
                        "Êûó‰∏ãË©©Áæé\nÊùæ‰∫ïÁè†Á¥ó",
                        "",
                        "",
                        "",
                        "ÈßøÊ≤≥„É°„Ç§",
                        "",
                        "",
                        "Ë∞∑„ÇÇ„ÇÇ",
                        "Maria\nÂ∑ùÁïëÊ¢®Áëö",
                        "",
                        "",
                        "",
                        "Áãê‰ºØ",
                        "",
                        "„Éû„É™Âçç",
                        "",
                        "Á´πÊûóÊó©Ëãó",
                        "",
                        "ÁôΩÂ∑ùÊú™Â•à(AEW)",
                        "Ê´ª‰∫ïË£ïÂ≠ê(COLORS)\nÁ∂≤ÂÄâÁêÜÂ•à(COLORS)\nKONOHA(ÈäÄÊ≤≥)(2026.5ÂºïÈÄÄ‰∫àÂÆö)\nËä±ÂúíÊ°ÉËä±(„Ç¢„ÉÉ„Éó„Çø„Ç¶„É≥)\nÊùè„Å°„ÇÉ„ÇÄ(‰ø°Â∑û)",
                        "ËóçÂ∑ù„ÅØ„Çã„Åã"
            ],
            [
                        "2019",
                        "È£ØÁî∞Ê≤ôËÄ∂\n‰∏äË∞∑Ê≤ôÂº•\nÂêëÂæåÊ°É\nËàûËèØ",
                        "",
                        "Ê°êÁîüÁúüÂº•\nÈà¥ËäΩ",
                        "",
                        "Yappy(IR)\n„Åì„ÇÜ„Åç(HCC)",
                        "Ê¢ÖÂí≤ÈÅ•\nÁæΩÂ§ö‰πÉ„Éä„Éä„Éü",
                        "Á®≤Ëëâ„Å®„ÇÇ„Åã\nrhythm(12.31ÈÄÄÂõ£‰∫àÂÆö)",
                        "Ê°êÂéüÂ≠£Â≠ê\nÂ∞èÁü≥Â∑ù„ÉÅ„Ç®\nÊ≤ô‰πüÂä†",
                        "",
                        "Â≤°ÂÑ™Èáå‰Ω≥",
                        "AKARI\n‰πÖ‰ª§ÊÑõ",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â±±‰∏≠ÁµµÈáåÂ•à",
                        "",
                        "",
                        "MIRAI(„Åø„Å°„ÅÆ„Åè)",
                        "„Éê„Éã„ÉºÂèäÂ∑ù\n„Éû„Éâ„É¨„Éº„Éå\n„Ç¶„Éä„ÇÆ„Éª„Çµ„É§„Ç´\nÊùæÊæ§„Åï„Çì"
            ],
            [
                        "2020",
                        "„É¨„Éá„Ç£„ÉªÔº£\nÂ£ÆÈ∫ó‰∫úÁæé\nÊúàÂ±±ÂíåÈ¶ô",
                        "",
                        "",
                        "Áü≥Â∑ùÂ•àÈùí\nÊ°ú‰∫ïÈ∫ªË°£",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Â§ßÁ©∫„Å°„Åà",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "YuuRI",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "Èà¥Êú®„É¶„É©(„Ç¢„É´„Éû„É™„Éñ„É¨)",
                        "ÁúüÁôΩÂÑ™Â∏å\nÊü≥Â∑ùÊæÑÊ®∫\nÁ•ûÂß´Ê•Ω„Éü„Çµ"
            ],
            [
                        "2021",
                        "ËôéÈæçÊ∏ÖËä±",
                        "„Å™„Çã\nÂ§èËëµ",
                        "ÈÅ†Ëó§ÊúâÊ†ñ\nÈ≥•Âñ∞„Åã„ÇÑ\nËçí‰∫ïÂÑ™Â∏å",
                        "CHIAKI",
                        "Êùæ‰∏ãÊ•ìÊ≠©(IR)\n„Ç≠„ÇØ(HCC)(2026/3ÂºïÈÄÄ‰∫àÂÆö)",
                        "",
                        "Aoi",
                        "",
                        "",
                        "",
                        "",
                        "ÂÆùÂ±±ÊÑõ",
                        "",
                        "",
                        "Ëä±Á©Ç„ÉéÂà©",
                        "Âí≤Ëò≠",
                        "",
                        "",
                        "",
                        "",
                        "„Å°„ÇÉ„Çì„Çà„Åü",
                        "",
                        "È∂¥Âß´Ëä±ÔºàÊÑõÂ™õÔºâ\nÁ∑ëÈáé„Ç¢„Éü„Çµ(„Ç¢„É´„Éû„É™„Éñ„É¨)\nË±äÁî∞Á¥ó‰πüÂ§è(T-HEARTS)\n„Åø„ÇÜ(BRS)",
                        ""
            ],
            [
                        "2022",
                        "Â§©Âí≤ÂÖâÁî±\n„Éú„Ç∏„É©\n„Éï„ÉØ„Å°„ÇÉ„Çì",
                        "ËçíÂπ°ÂØß„ÄÖ\nÁ¶èÊ∞∏ËéâÂ≠ê\nÊ∞¥Â∂ã„Åï„Åè„Çâ\n„Åø„ÅÇÊúùÂ≠ê\nÁü≥Â∑ù„ÅØ„Çã„Åã\nÂ≤©‰∫ïÊùèÂä†\nÊâçÂéüËåâËéâ‰πÉ\nÊ±êÊúà„Å™„Åé„Åï",
                        "HIMAWARI",
                        "„Éè„Éü„É≥„Ç∞„Éê„Éº„Éâ\n„É°„Ç¨„Éà„É≥\nÂæåËó§Êô∫È¶ô\nÂ§©È∫óÁöáÂ∏å\nË∂äÈáéSYOKO.(Âà•Âêç„ÅÇ„Çä)",
                        "Êµ∑‰πÉÊúàÈõ´(IR,V)\n„Åó„ÅÆ„ÅõÊÑõÊ¢®Á¥ó(HCC„ÉªÈ£õÈ≥•ÂÖº‰ªª)",
                        "Himiko\nÁæéËò≠",
                        "HisokA",
                        "Âõõ„ÉÑËëâ„Éü„É§",
                        "Êµ∑‰πÉÊúàÈõ´(IR,V)",
                        "",
                        "",
                        "",
                        "„Çπ„Éº„Éë„ÉºW\n„Éï„É©„Ç§„É≥„Ç∞„Éª„Éö„É≥„ÇÆ„É≥(Âà•Âêç„ÅÇ„Çä)\n„ÅΩ„Å£„ÅΩ„Å°„ÇÉ„Çì\n‰∏ÉÊòü",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "„Ç®„ÉÅ„Ç´„Éü„É§„Éì",
                        "",
                        "Âè∂„Éü„ÇØ(T-HEARTS)",
                        "È¶¨È†≠„Åª„Åã„Åí\n„Çä„Åà„Åæ„Çã"
            ],
            [
                        "2023",
                        "„Åï„Åè„Çâ„ÅÇ„ÇÑ\nHANAKO\nÁéñÈ∫ó„Åï„ÇÑ„Åã\nÂÖ´Á•ûËò≠Â•à",
                        "ÈùíËëâ„Å°„ÅÑ\nÂ±±‰∏ãÁúüËèú\nÁ†îËèú„ÄÖÁæé\nÂ§©Áøî„ÇÜ„ÅÑ(2025.12.29ÂçíÊ•≠‰∫àÂÆö)",
                        "È¢®Âüé„Éè„É´\nËä¶Áî∞ÁæéÊ≠©\nÂ§ß‰πÖ‰øùÁêâÈÇ£(‰ºë)\nÈà¥Êú®Âøó‰πÉ\nÂáçÈõÖ\n‰∏äÂéü„Çè„Åã„Å™",
                        "„Éì„ÇØ„Éà„É™„Ç¢ÂºìÊúà\nÁî∞‰∏≠„Åç„Åö„Å™\nÂãáÊ∞ó„Åø„Å™„Åø\nÁÄ¨Êà∏„É¨„Ç¢",
                        "„ÇÜ„Å•„Åç(HCC)\nchou„Éªchou(HCC)",
                        "È¶ôËó§Ê∫ÄÊúà",
                        "Á®≤Ëëâ„ÅÇ„Åö„Åï",
                        "ÁÄ¨Êà∏„Éé„Éé„Ç´",
                        "",
                        "YUNA\n„Çπ„Éë„Ç§„ÇØ„Éª„Éã„Ç∑„É†„É©",
                        "",
                        "",
                        "noa",
                        "„Ç≠„É£„Çµ„É™„É≥.",
                        "",
                        "ÁÇéËèØ",
                        "",
                        "",
                        "Chi Chi\nZONES",
                        "Â§ßÁ´π‰ªÅÁæé",
                        "„É™„Ç¢„É©",
                        "",
                        "ÂøóÁúü„ÅÜ„Åü(‰ºäËó§ÈÅìÂ†¥)\nCoCo(MyWay)",
                        "ÈÉ∑Áî∞ÊòéÊó•È¶ô(‰ºë)\n„Éñ„É©„É≥„Ç≠„ÉºÁúüÂ∏Ü"
            ],
            [
                        "2024",
                        "Ê¢®Êùè\nÊµúËæ∫Á∫è",
                        "„Ç¢„É≥„É™\nÊ∞∏‰∫ïÁµµÊ¢®Ê≤ô\nÂçÉÂ§ú„Éí„Éä„Çø\nÁü≥Â°öÁæéÂ∏Ü\nÊó•Ëèú„Å®„ÅÑ„Çç\nÊ§çÂéü„ÇÜ„Åç„Å™",
                        "‰∏ÉÁÄ¨ÂçÉËä±\n„Ç≠„É©„Çµ„Éû„Éº\nÈ´òË¶ãÊ±êÁè†",
                        "ÂçóÂ∞èÊ°É\nÊ©òÊ∏ö",
                        "Ëã•Ëèú„Åç„Çâ„Çä(IR,V)\nÁ∑ãÂΩ©„Åæ„Åõ(HCC)",
                        "NENE\n„Ç∑„É£„É≥„Ç∑„É£„É≥(Êñ∞Âè∞Êπæ)",
                        "„Åø„ÅöËëâ\n„Ç∏„É£„É≥„Éú‰∫ï‰∏ä\n„Éì„ÉÉ„Ç∞Êò•ËèØ",
                        "Â•èË°£„Ç®„É™„Éº\nË∞∑Á∂ø„Éí„É®„É™\nÂ∫ÉÊµ∑„Ç´„Éõ",
                        "Ëã•Ëèú„Åç„Çâ„Çä(IR,V)",
                        "",
                        "JENNE",
                        "ÂΩ©ËäΩËíºÁ©∫\nÊöÅÂçÉËèØ",
                        "„É¨„Éá„Ç£„Åè„Çâ„Çâ\n„É¨„Éá„Ç£„Åõ„Çä„Å™\nÂí≤ÊùëËâØÂ≠ê",
                        "",
                        "ÂÖâËäΩ„Éü„É™„Ç¢",
                        "",
                        "",
                        "„ÇØ„ÉÉ„Ç≠„Éº",
                        "„ÇΩ„Ç§",
                        "",
                        "",
                        "",
                        "Êµ¶Âπå„Å°„Åª(ÂåóÈÉΩ)",
                        ""
            ],
            [
                        "2025",
                        "ÈâÑ„Ç¢„Ç≠„É©\nÂß´„ÇÜ„Çä„ÅÇ\nÈáëÂ±ã„ÅÇ„Çì„Å≠\nÂÑõÂ≥∂„Ç®„Éû\nÂè§Ê≤¢Á®ÄÊùè",
                        "Ê¢®Â§Æ\nÂº•Á¶è„Åã„Å™\n„Ç¥„Çì„Åπ\n&lt;Êë©Âà©‰πÉ&gt;(12.29„Éá„Éì„É•„Éº‰∫àÂÆö)",
                        "Â∞èÂ§è„Çå„Çì",
                        "Â±±Â≤°ËÅñÊÄú\nÂøÉÂ∏å\nÂ±±Ô®ëË£ïËä±",
                        "„Çä„Åì(IR)\nÁ∑ãÂΩ©„ÇÇ„Åà(HCC)",
                        "Anna\nKuumu(Êñ∞Âè∞Êπæ)",
                        "„Éõ„É´„Çπ„Çø„Ç§„É≥„Éª„Ç®„É≥„Ç∏„É•\n„É©„Éñ„É™„Ç´„Éª„Éí„Éä„Éº„Éé\nÊû¢Â§ú ‰ΩêÂ≠£",
                        "",
                        "ÊùæÊ©ã„Å™„Å™„Çí",
                        "",
                        "",
                        "",
                        "„Çå„Å™",
                        "„Çè„Åã„Å™",
                        "È¢®Âçó„É¶„Ç≠\nÊúõÂ§©„Çª„É¨„Éç",
                        "",
                        "",
                        "Êòü‰πÉÁ¥îÂ•à",
                        "CHIKA",
                        "Â∞è‰πÖ‰øù„Ç¢„É™„Çµ",
                        "ËôéÁâô„ÅÆ„Çì",
                        "",
                        "Ëã∫Áïë„Å≤„Çà„Çä(666)\nÊ®™‰∫ïÁúüËèú(REINA)\n„Çø„ÇÆ„É™„Éí„É°ÁúüÂ§¢(‰πùÂ∑ûÂ•≥Â≠ê„Éó„É≠„É¨„Çπ)\nÂΩ©ÊúàÊÇ†Âè∂(2AW)",
                        ""
            ],
            [
                        "„Éá„Éì„É•„ÉºÂâç",
                        "",
                        "&lt;Â∞èË∞∑„Åï„Å§„Åç&gt;\n&lt;ÊùæÔ®ëÁ¥óÂº•&gt;\n&lt;Â±±Ê†πÁôæÂêà&gt;",
                        "&lt;Á•ûÂµúÂøóÈü≥&gt;‰ªÆ(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;„Ç¢„É≥„É™&gt;‰ªÆ\n&lt;„É¶„Ç¶„Ç´&gt;‰ªÆ",
                        "",
                        "",
                        "",
                        "&lt;Y&gt;",
                        "",
                        "&lt;Â∏åÂí≤„Åø„Å™„Åø&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;„Å≤„Å™&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;È´ôÊ©ãÂÖâÂí≤&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;‰ºäÁî∞ÊÉüÂêπ&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;ÂΩìÈ∫ªÁÖå&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)\n&lt;Áõ¥Ê±ü„Éü„ÅÜ&gt;(2026.1.4„Éá„Éì„É•„Éº‰∫àÂÆö)",
                        "",
                        "",
                        "&lt;Ê†πÊú¨Ê•ìËä±&gt;(„Éó„É≠„ÉÜ„Çπ„ÉàÂêàÊ†º)",
                        "",
                        "&lt;ÂΩ©Â§¢&gt;",
                        "&lt;„Çã„ÅÑ&gt;",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "",
                        "&lt;Â†Ä„Åì„ÅÆ„Åø&gt;(ZeroOne)\n&lt;‰∏É‰∏ñÁúüÁêÜÂ≠ê&gt;(ZeroOne)\n&lt;ÊòüÈáé „Åï„ÇÑ„Åã&gt;(‰πùÂ∑ûÂ•≥Â≠ê„Éó„É≠„É¨„Çπ)",
                        ""
            ]
];

        debugLog(`„Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÂÆå‰∫Ü: ${wrestlerData.length}Ë°å„ÅÆ„Éá„Éº„Çø`);

        const promotionNames = ["Stardom", "AWG", "TJPW", "„Éû„É™„Ç¥", "IR/„Éõ„ÉÉ„Éà„Ç∑„É•„Ç∑„É•", "Diana", "JTO", "„ÉÅ„Éß„Ç≥„Éó„É≠", "Venus(1.4ÊóóÊèö„Åí)", "SENDAI", "Pure-J", "„Éû„Éº„Éô„É©„Çπ", "„Å™„Å´„ÇèÂ•≥Â≠ê", "LLPW-X", "„Ç∑„Éº„Éâ", "Wave", "„Ç¨„É≥„Éó„É≠", "Êü≥„É∂ÁÄ¨", "„Ç®„Éú„É™„É•„Éº„Ç∑„Éß„É≥", "BBJ", "PPP", "Êµ∑Â§ñ", "„Åù„ÅÆ‰ªñ", "„Éï„É™„Éº"];

        debugLog(`Âõ£‰ΩìÂêçÂÆöÁæ©ÂÆå‰∫Ü: ${promotionNames.length}Âõ£‰Ωì`);

        // ÂÖ®„Å¶„ÅÆÈñ¢Êï∞„ÇíÂÆöÁæ©
        function calculateTotalWrestlers() {
            debugLog('ÈÅ∏ÊâãÊï∞Ë®àÁÆóÈñãÂßã');
            let total = 0;
            try {
                wrestlerData.forEach((row) => {
                    for (let i = 1; i < row.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            const wrestlerList = wrestlers.split('\n').filter(name => name.trim());
                            total += wrestlerList.length;
                        }
                    }
                });
                document.getElementById('totalWrestlers').textContent = total;
                debugLog(`Á∑èÈÅ∏ÊâãÊï∞: ${total}‰∫∫`);
            } catch (error) {
                debugLog(`ÈÅ∏ÊâãÊï∞Ë®àÁÆó„Ç®„É©„Éº: ${error.message}`);
            }
        }

        function calculatePromotionWrestlerCounts() {
            debugLog('Âõ£‰ΩìÂà•ÈÅ∏ÊâãÊï∞Ë®àÁÆóÈñãÂßã');
            const promotionCounts = new Array(promotionNames.length).fill(0);
            
            try {
                wrestlerData.forEach((row) => {
                    for (let i = 1; i < row.length && i <= promotionNames.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            const wrestlerList = wrestlers.split('\n').filter(name => name.trim());
                            promotionCounts[i - 1] += wrestlerList.length;
                        }
                    }
                });
                
                debugLog(`Âõ£‰ΩìÂà•ÈÅ∏ÊâãÊï∞Ë®àÁÆóÂÆå‰∫Ü: ${promotionCounts.join(', ')}`);
                return promotionCounts;
            } catch (error) {
                debugLog(`Âõ£‰ΩìÂà•ÈÅ∏ÊâãÊï∞Ë®àÁÆó„Ç®„É©„Éº: ${error.message}`);
                return promotionCounts;
            }
        }

        function updatePromotionHeaders() {
            debugLog('Âõ£‰Ωì„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞ÈñãÂßã');
            try {
                const counts = calculatePromotionWrestlerCounts();
                const headers = document.querySelectorAll('.promotion-header');
                
                headers.forEach((header, index) => {
                    if (index < promotionNames.length && index < counts.length) {
                        const promotionName = promotionNames[index];
                        const count = counts[index];
                        header.textContent = `${promotionName}(${count})`;
                    }
                });
                
                debugLog('Âõ£‰Ωì„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Âõ£‰Ωì„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞„Ç®„É©„Éº: ${error.message}`);
            }
        }

        function renderTable(data) {
            debugLog('„ÉÜ„Éº„Éñ„É´ÊèèÁîªÈñãÂßã');
            try {
                const tableBody = document.getElementById('tableBody');
                if (!tableBody) {
                    debugLog('„Ç®„É©„Éº: tableBody„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
                    return;
                }
                
                tableBody.innerHTML = '';
                debugLog('„ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÇØ„É™„Ç¢ÂÆå‰∫Ü');

                // „ÇΩ„Éº„ÉàÔºàÊñáÂ≠óÂàóÂØæÂøúÔºâ
                const sortedData = [...data].sort((a, b) => {
                    const yearA = String(a[0]);
                    const yearB = String(b[0]);
                    // Êï∞ÂÄ§„Å®„Åó„Å¶Ëß£Èáà„Åß„Åç„ÇãÂ†¥Âêà„ÅØÊï∞ÂÄ§ÊØîËºÉ„ÄÅ„Åù„Çå‰ª•Â§ñ„ÅØÊñáÂ≠óÂàóÊØîËºÉ
                    const numA = parseInt(yearA);
                    const numB = parseInt(yearB);
                    if (!isNaN(numA) && !isNaN(numB)) {
                        return sortOrder === 'desc' ? numB - numA : numA - numB;
                    }
                    // Êï∞ÂÄ§„Åß„Å™„ÅÑÂ†¥Âêà„ÅØÊñáÂ≠óÂàóÊØîËºÉ
                    return sortOrder === 'desc' ? yearB.localeCompare(yearA) : yearA.localeCompare(yearB);
                });
                debugLog(`„Éá„Éº„Çø„ÇΩ„Éº„ÉàÂÆå‰∫Ü: ${sortedData.length}Ë°å`);

                sortedData.forEach((row) => {
                    const tr = document.createElement('tr');
                    
                    // Âπ¥Â∫¶„Çª„É´
                    const yearTd = document.createElement('td');
                    yearTd.textContent = row[0];
                    yearTd.onclick = () => {
                        debugLog(`Âπ¥Â∫¶„ÇØ„É™„ÉÉ„ÇØ: ${row[0]}`);
                        showYearDetail(row[0], row);
                    };
                    tr.appendChild(yearTd);

                    // Âõ£‰Ωì„Çª„É´
                    for (let i = 1; i < row.length; i++) {
                        const td = document.createElement('td');
                        const wrestlers = row[i];
                        
                        if (wrestlers && wrestlers.trim()) {
                            td.innerHTML = wrestlers.trim().replace(/\n/g, '<br>');
                        } else {
                            td.className = 'empty-cell';
                        }
                        tr.appendChild(td);
                    }
                    
                    tableBody.appendChild(tr);
                });
                
                debugLog(`„ÉÜ„Éº„Éñ„É´ÊèèÁîªÂÆå‰∫Ü: ${sortedData.length}Ë°åËøΩÂä†`);
            } catch (error) {
                debugLog(`„ÉÜ„Éº„Éñ„É´ÊèèÁîª„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        function toggleSort() {
            debugLog('„ÇΩ„Éº„ÉàÂàá„ÇäÊõø„ÅàÈñãÂßã');
            try {
                sortOrder = sortOrder === 'desc' ? 'asc' : 'desc';
                const sortTh = document.querySelector('.sortable');
                if (sortTh) {
                    sortTh.className = 'sortable ' + sortOrder;
                }
                debugLog(`„ÇΩ„Éº„ÉàÈ†ÜÂ§âÊõ¥: ${sortOrder}`);
                
                renderTable(wrestlerData);
            } catch (error) {
                debugLog(`„ÇΩ„Éº„ÉàÂàá„ÇäÊõø„Åà„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        function filterByPromotion(promotionName, promotionIndex) {
            debugLog(`Âõ£‰Ωì„Éï„Ç£„É´„Çø„ÉºÈñãÂßã: ${promotionName} („Ç§„É≥„Éá„ÉÉ„ÇØ„Çπ: ${promotionIndex})`);
            try {
                // Ê§úÁ¥¢‰∏≠„ÅÆÂ†¥Âêà„ÅØÊ§úÁ¥¢ÁµêÊûú„Åã„Çâ„ÄÅ„Åù„ÅÜ„Åß„Å™„Åë„Çå„Å∞ÂÖ®„Éá„Éº„Çø„Åã„Çâ„Éï„Ç£„É´„Çø„Éº
                const sourceData = isSearching ? getCurrentFilteredData() : wrestlerData;

                const filteredResults = sourceData.filter(row => {
                    const wrestlers = row[promotionIndex];
                    return wrestlers && wrestlers.trim();
                });

                debugLog(`„Éï„Ç£„É´„Çø„ÉºÁµêÊûú: ${filteredResults.length}Ë°å`);

                currentFilter = {
                    type: 'promotion',
                    value: promotionName,
                    data: filteredResults,
                    index: promotionIndex
                };
                isFiltered = true;

                // URL„Éë„É©„É°„Éº„Çø„ÇíÊõ¥Êñ∞
                updateURLParams({
                    filter: 'promotion',
                    promotion: promotionName
                });

                showControls();
                showPromotionDetail(promotionName, filteredResults, promotionIndex);
            } catch (error) {
                debugLog(`Âõ£‰Ωì„Éï„Ç£„É´„Çø„Éº„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        // ÁèæÂú®„ÅÆÊ§úÁ¥¢ÁµêÊûú„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞
        function getCurrentFilteredData() {
            if (!isSearching) {
                return wrestlerData;
            }
            
            const searchInput = document.getElementById('wrestlerSearch');
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (searchTerm === '') {
                return wrestlerData;
            }
            
            // Ê§úÁ¥¢ÁµêÊûú„ÇíÂÜçË®àÁÆó
            return wrestlerData.map(row => {
                const year = row[0];
                const newRow = [year];

                // ÂêÑÂõ£‰Ωì„ÅÆ„Çª„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØ
                for (let i = 1; i < row.length; i++) {
                    const wrestlers = row[i];
                    if (wrestlers && wrestlers.trim()) {
                        // ÈÅ∏ÊâãÂêç„ÇíÂàÜÂâ≤„Åó„Å¶Ê§úÁ¥¢
                        const wrestlerList = wrestlers.split('\n')
                            .filter(name => name.trim())
                            .filter(name => name.toLowerCase().includes(searchTerm));

                        if (wrestlerList.length > 0) {
                            // „Éû„ÉÉ„ÉÅ„Åó„ÅüÈÅ∏ÊâãÂêç„Çí„Éè„Ç§„É©„Ç§„Éà„Å™„Åó„ÅßËøî„ÅôÔºàÂõ£‰Ωì„Éï„Ç£„É´„Çø„ÉºÁî®Ôºâ
                            newRow.push(wrestlerList.join('\n'));
                        } else {
                            newRow.push('');
                        }
                    } else {
                        newRow.push('');
                    }
                }

                // ‰Ωï„Çâ„Åã„ÅÆÁµêÊûú„Åå„ÅÇ„ÇãË°å„ÅÆ„ÅøËøî„Åô
                const hasResults = newRow.slice(1).some(cell => cell && cell.trim());
                return hasResults ? newRow : null;
            }).filter(row => row !== null);
        }

        function showYearDetail(year, yearRow) {
            debugLog(`Âπ¥Ë©≥Á¥∞Ë°®Á§∫ÈñãÂßã: ${year}`);
            try {
                const promotions = [];
                
                for (let i = 1; i < yearRow.length && i - 1 < promotionNames.length; i++) {
                    const wrestlers = yearRow[i];
                    if (wrestlers && wrestlers.trim()) {
                        promotions.push({
                            name: promotionNames[i - 1],
                            wrestlers: wrestlers.split('\n').filter(name => name.trim())
                        });
                    }
                }
                
                debugLog(`Âπ¥Ë©≥Á¥∞: ${promotions.length}Âõ£‰Ωì„Å´ÈÅ∏ÊâãÂú®Á±ç`);

                currentFilter = {type: 'year', value: year, data: promotions};
                isFiltered = true;

                // URL„Éë„É©„É°„Éº„Çø„ÇíÊõ¥Êñ∞
                updateURLParams({
                    filter: 'year',
                    year: year
                });

                showControls();
                showYearDetailView(year, promotions);
            } catch (error) {
                debugLog(`Âπ¥Ë©≥Á¥∞Ë°®Á§∫„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        function showControls() {
            debugLog('„Ç≥„É≥„Éà„É≠„Éº„É´Ë°®Á§∫');
            try {
                const controls = document.getElementById('controls');
                controls.style.display = 'flex';
                
                let html = '<button class="back-btn" onclick="resetFilter()">‚Üê ÂÖ®‰ΩìË°®Á§∫„Å´Êàª„Çã</button>';
                
                if (currentFilter) {
                    if (currentFilter.type === 'promotion') {
                        html += `<div class="filter-info">„Éï„Ç£„É´„Çø„Éº: ${currentFilter.value}</div>`;
                    } else if (currentFilter.type === 'year') {
                        html += `<div class="filter-info">„Éï„Ç£„É´„Çø„Éº: ${currentFilter.value}Âπ¥</div>`;
                    }
                }
                
                controls.innerHTML = html;
                debugLog('„Ç≥„É≥„Éà„É≠„Éº„É´Ë°®Á§∫ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`„Ç≥„É≥„Éà„É≠„Éº„É´Ë°®Á§∫„Ç®„É©„Éº: ${error.message}`);
            }
        }

        function showPromotionDetail(promotionName, data, promotionIndex) {
            debugLog(`Âõ£‰ΩìË©≥Á¥∞Ë°®Á§∫: ${promotionName}`);
            try {
                document.getElementById('tableContainer').style.display = 'none';
                const yearDetailView = document.getElementById('yearDetailView');
                yearDetailView.style.display = 'block';
                
                let html = `
                    <div class="year-title">${promotionName} ÊâÄÂ±ûÈÅ∏Êâã‰∏ÄË¶ß</div>
                    <div class="promotion-grid">
                `;
                
                data.forEach(row => {
                    const year = row[0];
                    const wrestlers = row[promotionIndex];
                    if (wrestlers && typeof wrestlers === 'string') {
                        const wrestlerList = wrestlers.split('\n')
                            .filter(name => name.trim())
                            .map(name => name.trim());

                        // Âπ¥Â∫¶Ë°®Á§∫: Êï∞ÂÄ§„ÅÆ„Åø„ÅÆÂ†¥Âêà„ÅØ„ÄåyyyyÂπ¥„Éá„Éì„É•„Éº„Äç„ÄÅ„Åù„Çå‰ª•Â§ñ„ÅØ„Åù„ÅÆ„Åæ„ÅæË°®Á§∫
                        const isNumericYear = /^\d{4}$/.test(String(year).trim());
                        const yearLabel = isNumericYear ? `${year}Âπ¥„Éá„Éì„É•„Éº` : year;

                        html += `
                            <div class="promotion-card">
                                <div class="promotion-name-card">${yearLabel}</div>
                                <div class="wrestler-names-card">${wrestlerList.join('<br>')}</div>
                            </div>
                        `;
                    }
                });
                
                html += '</div>';
                yearDetailView.innerHTML = html;
                debugLog('Âõ£‰ΩìË©≥Á¥∞Ë°®Á§∫ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Âõ£‰ΩìË©≥Á¥∞Ë°®Á§∫„Ç®„É©„Éº: ${error.message}`);
            }
        }

        function showYearDetailView(year, promotions) {
            debugLog(`Âπ¥Âà•Ë©≥Á¥∞Ë°®Á§∫: ${year}`);
            try {
                document.getElementById('tableContainer').style.display = 'none';
                const yearDetailView = document.getElementById('yearDetailView');
                yearDetailView.style.display = 'block';

                // „Çø„Ç§„Éà„É´Ë°®Á§∫: Êï∞ÂÄ§„ÅÆ„Åø„ÅÆÂ†¥Âêà„ÅØ„ÄåyyyyÂπ¥„Éá„Éì„É•„ÉºÈÅ∏Êâã‰∏ÄË¶ß„Äç„ÄÅ„Åù„Çå‰ª•Â§ñ„ÅØ„Åù„ÅÆ„Åæ„ÅæË°®Á§∫
                const isNumericYear = /^\d{4}$/.test(String(year).trim());
                const title = isNumericYear ? `${year}Âπ¥„Éá„Éì„É•„ÉºÈÅ∏Êâã‰∏ÄË¶ß` : `${year}ÈÅ∏Êâã‰∏ÄË¶ß`;

                let html = `
                    <div class="year-title">${title}</div>
                    <div class="promotion-grid">
                `;
                
                promotions.forEach(promotion => {
                    html += `
                        <div class="promotion-card">
                            <div class="promotion-name-card">${promotion.name}</div>
                            <div class="wrestler-names-card">${promotion.wrestlers.join('<br>')}</div>
                        </div>
                    `;
                });
                
                html += '</div>';
                yearDetailView.innerHTML = html;
                debugLog('Âπ¥Âà•Ë©≥Á¥∞Ë°®Á§∫ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Âπ¥Âà•Ë©≥Á¥∞Ë°®Á§∫„Ç®„É©„Éº: ${error.message}`);
            }
        }

        function resetFilter() {
            debugLog('„Éï„Ç£„É´„Çø„Éº„É™„Çª„ÉÉ„Éà');
            try {
                currentFilter = null;
                isFiltered = false;

                // URL„Éë„É©„É°„Éº„Çø„Çí„ÇØ„É™„Ç¢ÔºàÊ§úÁ¥¢„Éë„É©„É°„Éº„Çø„ÅØ‰øùÊåÅÔºâ
                const searchParam = getURLParam('search');
                clearURLParams();
                if (searchParam) {
                    updateURLParams({ search: searchParam });
                }

                document.getElementById('controls').style.display = 'none';
                document.getElementById('yearDetailView').style.display = 'none';
                document.getElementById('tableContainer').style.display = 'block';

                // Ê§úÁ¥¢‰∏≠„ÅÆÂ†¥Âêà„ÅØÊ§úÁ¥¢ÁµêÊûú„ÇíÂÜçË°®Á§∫
                if (isSearching) {
                    searchWrestlers(); // Ê§úÁ¥¢ÁµêÊûú„ÇíÂÜçË°®Á§∫
                } else {
                    renderTable(wrestlerData);
                    updatePromotionHeaders();
                    calculateTotalWrestlers();
                    showAllColumns(); // ÂÖ®„Å¶„ÅÆÂàó„ÇíË°®Á§∫
                    resetColumnWidths(); // ÂàóÂπÖ„Çí„É™„Çª„ÉÉ„Éà
                }
                debugLog('„Éï„Ç£„É´„Çø„Éº„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`„Éï„Ç£„É´„Çø„Éº„É™„Çª„ÉÉ„Éà„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // ÈÅ∏ÊâãÂêçÊ§úÁ¥¢Ê©üËÉΩ
        function searchWrestlers() {
            const searchInput = document.getElementById('wrestlerSearch');
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            debugLog(`ÈÅ∏ÊâãÊ§úÁ¥¢ÈñãÂßã: "${searchTerm}"`);
            
            if (searchTerm === '') {
                // Ê§úÁ¥¢Ë™û„ÅåÁ©∫„ÅÆÂ†¥Âêà„ÄÅÂÖ®„Éá„Éº„Çø„ÇíË°®Á§∫
                isSearching = false;
                originalData = null;

                // URL„Åã„ÇâÊ§úÁ¥¢„Éë„É©„É°„Éº„Çø„ÇíÂâäÈô§
                updateURLParams({ search: null });

                resetFilter();
                renderTable(wrestlerData);
                updatePromotionHeaders();
                calculateTotalWrestlers();
                // „É©„Éô„É´„ÇíÂÖÉ„Å´Êàª„Åô
                document.getElementById('totalWrestlersLabel').textContent = 'Á∑èÁèæÂΩπÈÅ∏ÊâãÊï∞';
                // ÂÖ®„Å¶„ÅÆÂàó„ÇíË°®Á§∫Áä∂ÊÖã„Å´Êàª„Åô
                showAllColumns();
                // ÂàóÂπÖ„Çí„É™„Çª„ÉÉ„Éà
                resetColumnWidths();
                debugLog('Ê§úÁ¥¢„ÇØ„É™„Ç¢: ÂÖ®„Éá„Éº„ÇøË°®Á§∫');
                return;
            }
            
            // Ê§úÁ¥¢ÈñãÂßãÊôÇ„Å´„Ç™„É™„Ç∏„Éä„É´„Éá„Éº„Çø„Çí‰øùÂ≠ò
            if (!isSearching) {
                originalData = [...wrestlerData];
                isSearching = true;
            }
            
            // Ê§úÁ¥¢ÁµêÊûú„Çí„Éï„Ç£„É´„Çø„É™„É≥„Ç∞
            const filteredData = wrestlerData.map(row => {
                const year = row[0];
                const newRow = [year];
                
                // ÂêÑÂõ£‰Ωì„ÅÆ„Çª„É´„Çí„ÉÅ„Çß„ÉÉ„ÇØ
                for (let i = 1; i < row.length; i++) {
                    const wrestlers = row[i];
                    if (wrestlers && wrestlers.trim()) {
                        // ÈÅ∏ÊâãÂêç„ÇíÂàÜÂâ≤„Åó„Å¶Ê§úÁ¥¢
                        const wrestlerList = wrestlers.split('\n')
                            .filter(name => name.trim())
                            .filter(name => name.toLowerCase().includes(searchTerm));
                        
                        if (wrestlerList.length > 0) {
                            // „Éû„ÉÉ„ÉÅ„Åó„ÅüÈÅ∏ÊâãÂêç„Çí„Éè„Ç§„É©„Ç§„Éà
                            const highlightedWrestlers = wrestlerList.map(name => 
                                name.replace(
                                    new RegExp(`(${searchTerm})`, 'gi'),
                                    '<span class="highlight">$1</span>'
                                )
                            );
                            newRow.push(highlightedWrestlers.join('\n'));
                        } else {
                            newRow.push('');
                        }
                    } else {
                        newRow.push('');
                    }
                }
                
                // ‰Ωï„Çâ„Åã„ÅÆÁµêÊûú„Åå„ÅÇ„ÇãË°å„ÅÆ„ÅøËøî„Åô
                const hasResults = newRow.slice(1).some(cell => cell && cell.trim());
                return hasResults ? newRow : null;
            }).filter(row => row !== null);
            
            debugLog(`Ê§úÁ¥¢ÁµêÊûú: ${filteredData.length}Ë°å„Åå„Éû„ÉÉ„ÉÅ`);

            // URL„Éë„É©„É°„Éº„Çø„ÇíÊõ¥Êñ∞
            updateURLParams({ search: searchTerm });

            // Ê§úÁ¥¢ÁµêÊûú„ÇíË°®Á§∫
            renderTable(filteredData);
            updateSearchResultHeaders(filteredData);
            calculateSearchResultWrestlers(filteredData);

            // „Éï„Ç£„É´„Çø„Éº„ÇÑ„Åù„ÅÆ‰ªñ„ÅÆË°®Á§∫„Çí„É™„Çª„ÉÉ„Éà
            if (isFiltered) {
                currentFilter = null;
                isFiltered = false;
                document.getElementById('controls').style.display = 'none';
                document.getElementById('yearDetailView').style.display = 'none';
                document.getElementById('tableContainer').style.display = 'block';
            }
        }

        // Ê§úÁ¥¢ÁµêÊûúÁî®„ÅÆ„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞
        function updateSearchResultHeaders(filteredData) {
            debugLog('Ê§úÁ¥¢ÁµêÊûú„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞ÈñãÂßã');
            try {
                const counts = new Array(promotionNames.length).fill(0);
                
                filteredData.forEach((row) => {
                    for (let i = 1; i < row.length && i <= promotionNames.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            // HTML„Çø„Ç∞„ÇíÈô§Âéª„Åó„Å¶„Ç´„Ç¶„É≥„Éà
                            const cleanWrestlers = wrestlers.replace(/<[^>]*>/g, '');
                            const wrestlerList = cleanWrestlers.split('\n').filter(name => name.trim());
                            counts[i - 1] += wrestlerList.length;
                        }
                    }
                });
                
                const headers = document.querySelectorAll('.promotion-header');
                headers.forEach((header, index) => {
                    if (index < promotionNames.length && index < counts.length) {
                        const promotionName = promotionNames[index];
                        const count = counts[index];
                        header.textContent = `${promotionName}(${count})`;
                        
                        // ÈÅ∏ÊâãÊï∞„Åå0„ÅÆÂ†¥Âêà„ÅØÂàó„ÇíÈùûË°®Á§∫„Å´„Åô„Çã
                        if (count === 0) {
                            header.classList.add('hidden-column');
                        } else {
                            header.classList.remove('hidden-column');
                        }
                    }
                });
                
                // „ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÅÆÂØæÂøú„Åô„ÇãÂàó„ÇÇÈùûË°®Á§∫„Å´„Åô„Çã
                hideEmptyColumnsInTable(counts);
                
                // ÂàóÂπÖ„ÇíË™øÊï¥„Åô„ÇãÔºàÂ∞ë„ÅóÈÅÖÂª∂„Åï„Åõ„Å¶Á¢∫ÂÆü„Å´ÈÅ©Áî®Ôºâ
                setTimeout(() => adjustColumnWidths(counts), 50);
                
                debugLog('Ê§úÁ¥¢ÁµêÊûú„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Ê§úÁ¥¢ÁµêÊûú„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // „ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÅÆÁ©∫„ÅÆÂàó„ÇíÈùûË°®Á§∫„Å´„Åô„ÇãÈñ¢Êï∞
        function hideEmptyColumnsInTable(counts) {
            debugLog('Á©∫„ÅÆÂàóÈùûË°®Á§∫Âá¶ÁêÜÈñãÂßã');
            try {
                const tableRows = document.querySelectorAll('#tableBody tr');
                
                tableRows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    // ÊúÄÂàù„ÅÆ„Çª„É´ÔºàÂπ¥Â∫¶Ôºâ„ÅØÈô§Â§ñ„Åó„Å¶„ÄÅÂõ£‰Ωì„Çª„É´„ÅÆ„ÅøÂá¶ÁêÜ
                    for (let i = 1; i < cells.length && i - 1 < counts.length; i++) {
                        const count = counts[i - 1];
                        if (count === 0) {
                            cells[i].classList.add('hidden-column');
                        } else {
                            cells[i].classList.remove('hidden-column');
                        }
                    }
                });
                
                debugLog('Á©∫„ÅÆÂàóÈùûË°®Á§∫Âá¶ÁêÜÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Á©∫„ÅÆÂàóÈùûË°®Á§∫Âá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // ÂÖ®„Å¶„ÅÆÂàó„ÇíË°®Á§∫Áä∂ÊÖã„Å´Êàª„ÅôÈñ¢Êï∞
        function showAllColumns() {
            debugLog('ÂÖ®ÂàóË°®Á§∫Âá¶ÁêÜÈñãÂßã');
            try {
                // „Éò„ÉÉ„ÉÄ„Éº„ÅÆË°®Á§∫„ÇíÊàª„Åô
                const headers = document.querySelectorAll('.promotion-header');
                headers.forEach(header => {
                    header.classList.remove('hidden-column');
                });
                
                // „ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÅÆË°®Á§∫„ÇíÊàª„Åô
                const tableRows = document.querySelectorAll('#tableBody tr');
                tableRows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    cells.forEach(cell => {
                        cell.classList.remove('hidden-column');
                    });
                });
                
                debugLog('ÂÖ®ÂàóË°®Á§∫Âá¶ÁêÜÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`ÂÖ®ÂàóË°®Á§∫Âá¶ÁêÜ„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // ÂãïÁöÑÂàóÂπÖË®àÁÆó„Å®ÈÅ©Áî®Èñ¢Êï∞
        function adjustColumnWidths(counts) {
            debugLog('ÂàóÂπÖË™øÊï¥Âá¶ÁêÜÈñãÂßã');
            try {
                const tableContainer = document.getElementById('tableContainer');
                const visibleColumns = counts.filter(count => count > 0).length;
                
                if (visibleColumns < promotionNames.length && visibleColumns > 0) {
                    // Áµû„ÇäËæº„Åø„ÅåÁô∫Áîü„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
                    tableContainer.classList.add('filtered');
                    
                    // Âà©Áî®ÂèØËÉΩ„Å™ÂπÖ„ÇíË®àÁÆóÔºàÂπ¥Â∫¶Âàó„ÇíÈô§„ÅèÔºâ
                    const containerWidth = tableContainer.offsetWidth || 1600; // „Éá„Éï„Ç©„É´„ÉàÂÄ§„ÇíË®≠ÂÆö
                    const yearColumnWidth = 60; // Áµû„ÇäËæº„ÅøÊôÇ„ÅÆÂπ¥Â∫¶Âàó„ÅÆÂπÖ
                    const availableWidth = containerWidth - yearColumnWidth - 80; // „Éû„Éº„Ç∏„É≥ËÄÉÊÖÆ
                    
                    // Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„ÇãÂàóÊï∞„ÅßÂùáÁ≠âÂàÜÂâ≤ÔºàÊúÄÂ∞è120px„ÄÅÊúÄÂ§ß250pxÔºâ
                    const rawColumnWidth = Math.floor(availableWidth / visibleColumns);
                    const columnWidth = Math.max(120, Math.min(250, rawColumnWidth));
                    
                    debugLog(`„Ç≥„É≥„ÉÜ„ÉäÂπÖ: ${containerWidth}px, Âà©Áî®ÂèØËÉΩÂπÖ: ${availableWidth}px, Ë°®Á§∫ÂàóÊï∞: ${visibleColumns}, ÂàóÂπÖ: ${columnWidth}px`);
                    
                    // Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„ÇãÂàó„Å´ÂãïÁöÑÂπÖ„ÇíÈÅ©Áî®
                    const headers = document.querySelectorAll('.promotion-header');
                    headers.forEach((header, index) => {
                        if (index < counts.length) {
                            if (counts[index] > 0) {
                                header.style.width = `${columnWidth}px`;
                                header.style.minWidth = `${columnWidth}px`;
                                header.style.maxWidth = `${columnWidth}px`;
                            }
                        }
                    });
                    
                    // „ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÅÆÂØæÂøú„Åô„Çã„Çª„É´„Å´„ÇÇÈÅ©Áî®ÔºàÂ∞ë„ÅóÈÅÖÂª∂„Åó„Å¶ÈÅ©Áî®Ôºâ
                    setTimeout(() => {
                        const tableRows = document.querySelectorAll('#tableBody tr');
                        tableRows.forEach(row => {
                            const cells = row.querySelectorAll('td');
                            for (let i = 1; i < cells.length && i - 1 < counts.length; i++) {
                                if (counts[i - 1] > 0) {
                                    cells[i].style.width = `${columnWidth}px`;
                                    cells[i].style.minWidth = `${columnWidth}px`;
                                    cells[i].style.maxWidth = `${columnWidth}px`;
                                }
                            }
                        });
                    }, 100);
                    
                    debugLog(`ÂàóÂπÖË™øÊï¥ÂÆå‰∫Ü: ${visibleColumns}Âàó„ÄÅÂêÑÂàóÂπÖ${columnWidth}px`);
                } else {
                    // Áµû„ÇäËæº„Åø„Åå„Å™„ÅÑÂ†¥Âêà„ÅØÂÖÉ„ÅÆÂπÖ„Å´Êàª„Åô
                    resetColumnWidths();
                }
            } catch (error) {
                debugLog(`ÂàóÂπÖË™øÊï¥„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        }

        // ÂàóÂπÖ„Çí„É™„Çª„ÉÉ„Éà„Åô„ÇãÈñ¢Êï∞
        function resetColumnWidths() {
            debugLog('ÂàóÂπÖ„É™„Çª„ÉÉ„ÉàÂá¶ÁêÜÈñãÂßã');
            try {
                const tableContainer = document.getElementById('tableContainer');
                tableContainer.classList.remove('filtered');
                
                // CSS„Ç´„Çπ„Çø„É†„Éó„É≠„Éë„ÉÜ„Ç£„Çí„É™„Çª„ÉÉ„Éà
                document.documentElement.style.removeProperty('--dynamic-column-width');
                
                // „Éò„ÉÉ„ÉÄ„Éº„ÅÆ„Çπ„Çø„Ç§„É´„Çí„É™„Çª„ÉÉ„Éà
                const headers = document.querySelectorAll('.promotion-header');
                headers.forEach(header => {
                    header.style.width = '';
                    header.style.minWidth = '';
                    header.style.maxWidth = '';
                });
                
                // „ÉÜ„Éº„Éñ„É´„Éú„Éá„Ç£„ÅÆ„Çπ„Çø„Ç§„É´„Çí„É™„Çª„ÉÉ„Éà
                const tableRows = document.querySelectorAll('#tableBody tr');
                tableRows.forEach(row => {
                    const cells = row.querySelectorAll('td');
                    cells.forEach(cell => {
                        if (!cell.classList.contains('year-cell')) {
                            cell.style.width = '';
                            cell.style.minWidth = '';
                            cell.style.maxWidth = '';
                        }
                    });
                });
                
                debugLog('ÂàóÂπÖ„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`ÂàóÂπÖ„É™„Çª„ÉÉ„Éà„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // Ê§úÁ¥¢ÁµêÊûú„ÅÆÈÅ∏ÊâãÊï∞Ë®àÁÆó
        function calculateSearchResultWrestlers(filteredData) {
            debugLog('Ê§úÁ¥¢ÁµêÊûúÈÅ∏ÊâãÊï∞Ë®àÁÆóÈñãÂßã');
            let total = 0;
            try {
                filteredData.forEach((row) => {
                    for (let i = 1; i < row.length; i++) {
                        const wrestlers = row[i];
                        if (wrestlers && wrestlers.trim()) {
                            // HTML„Çø„Ç∞„ÇíÈô§Âéª„Åó„Å¶„Ç´„Ç¶„É≥„Éà
                            const cleanWrestlers = wrestlers.replace(/<[^>]*>/g, '');
                            const wrestlerList = cleanWrestlers.split('\n').filter(name => name.trim());
                            total += wrestlerList.length;
                        }
                    }
                });
                document.getElementById('totalWrestlers').textContent = total;
                document.getElementById('totalWrestlersLabel').textContent = 'Áµû„ÇäËæº„ÅøÂæåÈÅ∏ÊâãÊï∞';
                debugLog(`Ê§úÁ¥¢ÁµêÊûúÈÅ∏ÊâãÊï∞: ${total}‰∫∫`);
            } catch (error) {
                debugLog(`Ê§úÁ¥¢ÁµêÊûúÈÅ∏ÊâãÊï∞Ë®àÁÆó„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // Ê§úÁ¥¢„ÇØ„É™„Ç¢Ê©üËÉΩ
        function clearSearch() {
            debugLog('Ê§úÁ¥¢„ÇØ„É™„Ç¢ÈñãÂßã');
            try {
                const searchInput = document.getElementById('wrestlerSearch');
                searchInput.value = '';

                isSearching = false;
                originalData = null;

                // URL„Åã„ÇâÊ§úÁ¥¢„Éë„É©„É°„Éº„Çø„ÇíÂâäÈô§
                updateURLParams({ search: null });

                resetFilter();
                renderTable(wrestlerData);
                updatePromotionHeaders();
                calculateTotalWrestlers();

                // „É©„Éô„É´„ÇíÂÖÉ„Å´Êàª„Åô
                document.getElementById('totalWrestlersLabel').textContent = 'Á∑èÁèæÂΩπÈÅ∏ÊâãÊï∞';

                // ÂÖ®„Å¶„ÅÆÂàó„ÇíË°®Á§∫Áä∂ÊÖã„Å´Êàª„Åô
                showAllColumns();

                // ÂàóÂπÖ„Çí„É™„Çª„ÉÉ„Éà
                resetColumnWidths();

                debugLog('Ê§úÁ¥¢„ÇØ„É™„Ç¢ÂÆå‰∫Ü');
            } catch (error) {
                debugLog(`Ê§úÁ¥¢„ÇØ„É™„Ç¢„Ç®„É©„Éº: ${error.message}`);
            }
        }

        // ÂàùÊúüË°®Á§∫
        window.onload = function() {
            debugLog('window.onloadÈñãÂßã');
            try {
                renderTable(wrestlerData);
                debugLog('„ÉÜ„Éº„Éñ„É´ÊèèÁîªÂÆå‰∫Ü');
                calculateTotalWrestlers();
                debugLog('ÈÅ∏ÊâãÊï∞Ë®àÁÆóÂÆå‰∫Ü');
                updatePromotionHeaders();
                debugLog('Âõ£‰Ωì„Éò„ÉÉ„ÉÄ„ÉºÊõ¥Êñ∞ÂÆå‰∫Ü');

                // URL„Éë„É©„É°„Éº„Çø„Åã„ÇâÁä∂ÊÖã„ÇíÂæ©ÂÖÉ
                restoreFromURL();

                debugLog('ÂàùÊúüÂåñÂÆå‰∫Ü - ÂÖ®„Å¶„ÅÆÊ©üËÉΩ„ÅåÂà©Áî®ÂèØËÉΩ„Åß„Åô');
            } catch (error) {
                debugLog(`ÂàùÊúüÂåñ„Ç®„É©„Éº: ${error.message}`);
                console.error(error);
            }
        };

        debugLog('ÂÖ®„Å¶„ÅÆÈñ¢Êï∞ÂÆöÁæ©ÂÆå‰∫Ü');
    </script>
</body>
</html>